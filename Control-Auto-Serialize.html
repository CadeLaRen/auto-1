<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Serialize</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Serialize.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.4.0.0: Denotative, locally stateful programming DSL &amp; platform</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2015</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Serialize</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Serializing and deserializing <code>Auto</code>s</a><ul><li><a href="#g:2">To and from <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html">Data.Serialize</a> types</a></li><li><a href="#g:3">To and from binary</a></li><li><a href="#g:4">To and from disk</a></li></ul></li><li><a href="#g:5">Imbuing <code>Auto</code>s with serialization</a><ul><li><a href="#g:6">Implicit automatic serialization</a></li><li><a href="#g:7">Triggered (blip stream-based) automatic serialization</a><ul><li><a href="#g:8">Intrinsic triggering</a></li></ul></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides tools for working with the automatically derived
 serializability and resumability of <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s.  The first half contains
 boring wrappers around encoding and decoding to and from binary,
 filepaths on disk, etc.</p><p>The second half contains <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> transformers that &quot;imbue&quot; an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with
 IO serialization abilities.  Note that these all require an underlying
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code> that is an instance of <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a></code>.</p><p>You have &quot;identity-like&quot; transformers that take an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> and spit it
 back out operationally unchanged...but every step, it might do some
 behind-the-scenes saving or re-load itself from disk when it is first
 stepped.  Or you have some &quot;trigger enhancers&quot; that take normal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s
 and give you the ability to &quot;trigger&quot; saving and loading events on the
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> using the <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> mechanisms and blip stream semantics from
 <a href="Control-Auto-Blip.html">Control.Auto.Blip</a>.</p><p>Note that the entire <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> construct is a little bit awkward when it
 comes to performing IO effects --- it isn't exactly what they were
 designed for originally.  Hooking on effects to stepping can be
 powerful, but as of now, not much has been looked into meaningful error
 handling when working with IO.  If you have any experience with this and
 are willing to help, please feel free to send me an e-mail or open an
 issue on the <a href="https://github.com/mstksg/auto/issues">issue tracker</a>!</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:saveAuto">saveAuto</a> ::  <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize-Put.html#t:Put">Put</a></li><li class="src short"><a href="#v:resumeAuto">resumeAuto</a> ::  <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize-Get.html#t:Get">Get</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</li><li class="src short"><a href="#v:encodeAuto">encodeAuto</a> ::  <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></li><li class="src short"><a href="#v:decodeAuto">decodeAuto</a> ::  <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</li><li class="src short"><a href="#v:writeAuto">writeAuto</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</li><li class="src short"><a href="#v:readAuto">readAuto</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b))</li><li class="src short"><a href="#v:readAutoDef">readAutoDef</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b))</li><li class="src short"><a href="#v:saving">saving</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:loading-39-">loading'</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:loading">loading</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:serializing-39-">serializing'</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:serializing">serializing</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:saveOnB">saveOnB</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) b</li><li class="src short"><a href="#v:loadOnB-39-">loadOnB'</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) b</li><li class="src short"><a href="#v:loadOnB">loadOnB</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) b</li><li class="src short"><a href="#v:saveFromB">saveFromB</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:loadFromB-39-">loadFromB'</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:loadFromB">loadFromB</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li></ul></div><div id="interface"><h1 id="g:1">Serializing and deserializing <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s</h1><h2 id="g:2">To and from <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html">Data.Serialize</a> types</h2><div class="top"><p class="src"><a name="v:saveAuto" class="def">saveAuto</a> ::  <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize-Put.html#t:Put">Put</a></p><div class="doc"><p>Returns a <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize-Put.html#t:Put">Put</a></code> --- instructions (from <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html">Data.Serialize</a>) on how to
 &quot;freeze&quot; the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, with its internal state, and save it to a binary
 encoding.  It can later be reloaded and &quot;resumed&quot; by
 'resumeAuto'/'decodeAuto'.</p></div></div><div class="top"><p class="src"><a name="v:resumeAuto" class="def">resumeAuto</a> ::  <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize-Get.html#t:Get">Get</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</p><div class="doc"><p>Returns a <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize-Get.html#t:Get">Get</a></code> from an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> ---  instructions (from
 <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html">Data.Serialize</a>) on taking a ByteString and &quot;restoring&quot; the originally
 saved <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, in the originally saved state.</p></div></div><h2 id="g:3">To and from binary</h2><div class="top"><p class="src"><a name="v:encodeAuto" class="def">encodeAuto</a> ::  <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></p><div class="doc"><p>Encode an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> and its internal state into a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:decodeAuto" class="def">decodeAuto</a> ::  <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</p><div class="doc"><p><a href="Resume.html">Resume</a> an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> from its <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/bytestring-0.10.4.0/Data-ByteString.html#t:ByteString">ByteString</a></code> serialization, giving
 a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#v:Left">Left</a></code> if the deserialization is not possible.</p></div></div><h2 id="g:4">To and from disk</h2><div class="top"><p class="src"><a name="v:writeAuto" class="def">writeAuto</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>filepath to write to</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to serialize</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> ()</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Given a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code> and an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, serialize and freeze the state of
 the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> as binary to that <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:readAuto" class="def">readAuto</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>filepath to read from</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to resume</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Give a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code> and an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, and <code><a href="Control-Auto-Serialize.html#v:readAuto">readAuto</a></code> will attempt to resume
 the saved state of the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> from disk, reading from the given
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>.  Will return <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#v:Left">Left</a></code> upon a decoding error, with the error,
 and <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#v:Right">Right</a></code> if the decoding is succesful.</p></div></div><div class="top"><p class="src"><a name="v:readAutoDef" class="def">readAutoDef</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>filepath to read from</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to resume</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Serialize.html#v:readAuto">readAuto</a></code>, but will return the <em>original</em> <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> (instead of
 a resumed one) if the file does not exist.</p><p>Useful if you want to &quot;resume an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>&quot; &quot;if there is&quot; a save state, or
 just use it as-is if there isn't.</p></div></div><h1 id="g:5">Imbuing <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s with serialization</h1><h2 id="g:6">Implicit automatic serialization</h2><div class="top"><p class="src"><a name="v:saving" class="def">saving</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>filepath to write to</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to transform</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><a href="Transforms.html">Transforms</a> the given <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> into an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that constantly saves its
 state to the given <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code> at every &quot;step&quot;.  Requires an underlying
 <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a></code>.</p><p>Note that (unless the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> depends on IO), the resulting <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> is
 meant to be operationally <em>identical</em> in its inputs/outputs to the
 original one.</p></div></div><div class="top"><p class="src"><a name="v:loading-39-" class="def">loading'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>filepath to read from</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to transform (or return unchanged)</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Serialize.html#v:loading">loading</a></code>, except silently suppresses all I/O and decoding
 errors; if there are errors, it returns back the given <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> as-is.</p><p>Useful for when you aren't sure the save state is on disk or not yet,
 and want to resume it only in the case that it is.</p></div></div><div class="top"><p class="src"><a name="v:loading" class="def">loading</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>filepath to read from</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to transform</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><a href="Transforms.html">Transforms</a> the given <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> into an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that, when you <em>first</em>
 try to run or step it, &quot;loads&quot; itself from disk at the given <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>.</p><p>Will throw a runtime exception on either an I/O error or a decoding
 error.</p><p>Note that (unless the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> depends on IO), the resulting <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> is
 meant to be operationally <em>identical</em> in its inputs/outputs to the
 <em>fast-forwarded</em> original <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:serializing-39-" class="def">serializing'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>filepath to read from and write to</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to transform</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Serialize.html#v:serializing">serializing</a></code>, except suppresses all I/O and decoding errors.</p><p>Useful in the case that when the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> is first run and there is no
 save state yet on disk (or the save state is corrupted), it'll &quot;start
 a new one&quot;; if there is one, it'll load it automatically.  Then, on
 every further step in both cases, it'll update the save state.</p></div></div><div class="top"><p class="src"><a name="v:serializing" class="def">serializing</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></td><td class="doc"><p>filepath to read from and write to</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to transform</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A combination of <code><a href="Control-Auto-Serialize.html#v:saving">saving</a></code> and <code><a href="Control-Auto-Serialize.html#v:loading">loading</a></code>.  When the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> is first
 run, it loads the save state from the given <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code> and fast forwards
 it.  Then, subsequently, it updates the save state on disk on every
 step.</p></div></div><h2 id="g:7">Triggered (blip stream-based) automatic serialization</h2><div class="doc"><p>Note that these follow the naming conventions from
 <a href="Control-Auto-Switch.html">Control.Auto.Switch</a>: Something &quot;from&quot; a blip stream is a thing
 triggered by the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> itself, and something &quot;on&quot; a blip stream is
 a thing triggered externally, from another <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p></div><div class="top"><p class="src"><a name="v:saveOnB" class="def">saveOnB</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to make saveable-by-trigger</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Takes an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> and basically &quot;wraps&quot; it so that you can trigger saves
 with a blip stream.</p><p>For example, we can take <code><code>sumFrom</code> 0</code>:</p><pre><code><a href="Control-Auto-Serialize.html#v:saveOnB">saveOnB</a></code> (<code>sumFrom</code> 0) :: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code> (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></code>, <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>) <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></code>
</pre><p>It'll behave just like <code><code>sumFrom</code> 0</code> (with the input you pass in the
 first field of the tuple)...and whenever the blip stream (the second
 field of the input tuple) emits, it'll save the state of <code><code>sumFrom</code> 0</code>
 to disk at the given <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>.</p><p>Contrast to <code><a href="Control-Auto-Serialize.html#v:saveFromB">saveFromB</a></code>, where the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> itself can trigger saves; in
 this one, saves are triggered &quot;externally&quot;.</p><p>Might be useful in similar situations as <code><a href="Control-Auto-Serialize.html#v:saveFromB">saveFromB</a></code>, except if you want
 to trigger the save externally.</p></div></div><div class="top"><p class="src"><a name="v:loadOnB-39-" class="def">loadOnB'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to make reloadable-by-trigger</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Serialize.html#v:loadOnB">loadOnB</a></code>, except silently ignores errors.  When a load is
 requested, but there is an IO or parse error, the loading is skipped.</p></div></div><div class="top"><p class="src"><a name="v:loadOnB" class="def">loadOnB</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to make reloadable-by-trigger</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>) b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Takes an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> and basically &quot;wraps&quot; it so that you can trigger
 loads/resumes from a file with a blip stream.</p><p>For example, we can take <code><code>sumFrom</code> 0</code>:</p><pre><code><a href="Control-Auto-Serialize.html#v:loadOnB">loadOnB</a></code> (<code>sumFrom</code> 0) :: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code> (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></code>, <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>) <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></code>
</pre><p>It'll behave just like <code><code>sumFrom</code> 0</code> (with the input you pass in the
 first field of the tiple)...and whenever the blip stream (the second
 field of the input tuple) emits, it'll &quot;reset&quot; and &quot;reload&quot; the
 <code><code>sumFrom</code> 0</code> from the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code> on disk.</p><p>Will throw a runtime exception if there is an IO error or a parse error.</p><p>Contrast to <code><a href="Control-Auto-Serialize.html#v:loadFromB">loadFromB</a></code>, where the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> itself can trigger
 reloads/resets; in this one, the loads are triggered &quot;externally&quot;.</p><p>Might be useful in similar situations as <code><a href="Control-Auto-Serialize.html#v:loadFromB">loadFromB</a></code>, except if you want
 to trigger the loading externally.</p></div></div><h3 id="g:8">Intrinsic triggering</h3><div class="top"><p class="src"><a name="v:saveFromB" class="def">saveFromB</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>)</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> producing a value
   <code>b</code> and a blip stream
   with a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code> to save
   to</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Takes an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that produces a blip stream with a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code> and
 a value, and turns it into an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that, outwardly, produces just the
 value.</p><p>Whenever the output blip stream emits, it automatically serializes and
 saves the state of the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to the emitted <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>.</p><p>In practice, this allows any <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to basically control when it wants
 to &quot;save&quot;, by providing a blip stream.</p><p>The following is an alternative implementation of <code><a href="Control-Auto-Serialize.html#v:saving">saving</a></code>, except
 saving every two steps instead of every step:</p><pre>saving2 fp a = <code><a href="Control-Auto-Serialize.html#v:saveFromB">saveFromB</a></code> (a <code>&amp;&amp;&amp;</code> (<code>every</code> 2 . <code><a href="Control-Auto-Generate.html#v:pure">pure</a></code> fp))
</pre><p>Or, in proc notation:</p><pre>saving2 fp a = saveFromB $ proc x -&gt; do
    y &lt;- a       -&lt; x
    b &lt;- every 2 -&lt; fp
    id -&lt; (y, b)</pre><p>(Recall that <code><code>every</code> n</code> is the <a href="Auto.html">Auto</a> that emits the received value
 every <code>n</code> steps)</p><p>In useful real-world cases, you can have the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> decide whether or
 not to save itself based on its input.  Like, for example, when it
 detects a certain user command, or when the user has reached a given
 location.</p><p>The following takes a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code> and an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> (<code>a</code>), and turns it into
 an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that &quot;saves&quot; whenever <code>a</code> crosses over from positive to
 negative.</p><pre>saveOnNegative fp a = saveFromB $ proc x -&gt; do
    y       &lt;- a            -&lt; x
    saveNow &lt;- <code>became</code> (&lt; 0) -&lt; y
    id       -&lt; (y, fp <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Functor.html#v:-60--36-">&lt;$</a></code> saveNow)
</pre><p>Contrast to <code><a href="Control-Auto-Serialize.html#v:saveOnB">saveOnB</a></code>, where the saves are triggered by outside input.
 In this case, the saves are triggered by the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to be saved itself.</p></div></div><div class="top"><p class="src"><a name="v:loadFromB-39-" class="def">loadFromB'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>)</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with an output
     and a blip stream to
     trigger re-loading
     itself from the given
     filepath</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Serialize.html#v:loadFromB">loadFromB</a></code>, except silently ignores errors.  When a load is
 requested, but there is an IO or parse error, the loading is skipped.</p></div></div><div class="top"><p class="src"><a name="v:loadFromB" class="def">loadFromB</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/transformers-0.4.3.0/html/Control-Monad-IO-Class.html#t:MonadIO">MonadIO</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a>)</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with an output
     and a blip stream to
     trigger re-loading
     itself from the given
     filepath</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Takes an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that outputs a <code>b</code> and a blip stream of <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>s
 and returns an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ouputs only that <code>b</code> stream...but every time
 the blip stream emits, it &quot;resets/loads&quot; itself from that <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:FilePath">FilePath</a></code>.</p><p>The following is a re-implementation of <code><a href="Control-Auto-Serialize.html#v:loading">loading</a></code>...except delayed by
 one (the second step that is run is the first &quot;resumed&quot; step).</p><pre>loading2 fp a = <code><a href="Control-Auto-Serialize.html#v:loadFromB">loadFromB</a></code> $ proc x -&gt; do
    y       &lt;- a           -&lt; x
    loadNow &lt;- <code>immediately</code> -&lt; fp
    <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:id">id</a></code>       -&lt; (y, loadNow)
</pre><p>(the blip stream emits only once, immediately, to re-load).</p><p>In the real world, you could have the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> decide to reset or resume
 itself based on a user command:</p><pre>loadFrom = loadFromB $ proc x -&gt; do
    steps  &lt;- count -&lt; ()
    toLoad &lt;- case words x of
                  (&quot;load&quot;:fp:_) -&gt; do
                      immediately -&lt; fp
                  _             -&gt; do
                      never       -&lt; ()
    id      -&lt; (steps, toLoad)
</pre><p>This will throw a runtime error on an IO exception or parsing error.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>