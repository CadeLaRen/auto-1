<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Tutorial</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Tutorial.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.1.0.0: Locally stateful programming with denotational semantics.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2014</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>stable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Tutorial</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Auto</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Welcome to the tutorial module for getting started with Auto!</p><p>This is actually just a basic overview of the library and some basic
 programs, enough to get started, hopefully; for further information,
 check out <a href="https://github.com/mstksg/auto-examples">auto-examples</a> for
 more real-world examples, and some of my writeups on
 <a href="http://blog.jle.im">my blog</a>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"></ul></div><div id="interface"><h1 id="g:1">Auto</h1><div class="doc"><p>An <code>Auto</code> is like a stateful function.  You can feed it values, and
 it'll return an output and a &quot;next <code>Auto</code>&quot;.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output x a2 = stepAuto' (sumFrom 0) 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>x
</code></strong>5
</pre><p>Here, we just stepped the <code><code>sumFrom</code> 0</code> <code>Auto</code>, feeding it with an input
 of 5.  The result (<code>x</code>) is the running total of the inputs --- in this
 case, 5.  Neat!  We named our &quot;next <code>Auto</code>&quot; <code>a2</code>.  Let's try it again:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y _ = stepAuto' a2 3
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y
</code></strong>8
</pre><p>We feed now an 3 to our next <code>Auto</code>, <code>a2</code>, and get that the result
 <code>y</code> is now 8!</p><p>Now, normally we don't really often step our <code>Auto</code>s manually...if we
 have an input stream (like a list), we can streamingly run them all
 through our <code>Auto</code>s one at a time, for example:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 10 $ streamAuto' (sumFrom 0) [1..]
</code></strong>[1, 3, 6, 10, 15, 21, 28, 36, 45, 55]
</pre><p>Or even make it run in an IO loop:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>interact (Just &lt;$&gt; mappender)
</code></strong>&gt; hello
hello
&gt; world
helloworld
&gt; goodbye
helloworldgoodbye
</pre><p>(<code>mappender</code> is the <code>Auto</code> that is much like <code>sumFrom</code>, but it returns
 the <code>mconcat</code> of all of its inputs so far; we fmap <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code>
 because as soon as <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#v:interact">interact</a></code> sees a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, it stops looping)</p><p><code>Auto</code>s can also be effectful, because why not?</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto (arrM print) [1..5]
</code></strong>1
2
3
4
5
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>flip runState 10 (streamAuto (arrM (\x -&gt; modify (+x))) [1..5])
</code></strong></pre></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>