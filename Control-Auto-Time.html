<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Time</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Time.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.1.0.0: DSL providing denotational, compositional semantics for
discrete-step, locally stateful, interactive programs,
games &amp; automations.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2014</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Time</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">A counter</a></li><li><a href="#g:2">Manipulating time</a><ul><li><a href="#g:3">Delaying</a></li><li><a href="#g:4">Stretching</a></li><li><a href="#g:5">Accelerating</a></li><li><a href="#g:6">Skipping</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains various <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> transformers for manipulating the
 flow of time/stepping rate of an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p><p>Many of these are <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> &quot;transformers&quot;, meaning that they take in an
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> and return a transformed <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, with new stepping behavior.</p><p>For example, there is <code><a href="Control-Auto-Time.html#v:accelerate">accelerate</a></code>:</p><pre><code><a href="Control-Auto-Time.html#v:accelerate">accelerate</a></code> :: <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code> m =&gt; <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></code> -&gt; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b -&gt; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a [b]
</pre><p><code><code><a href="Control-Auto-Time.html#v:accelerate">accelerate</a></code> n</code> turns an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> into an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that &quot;steps itself&quot; <code>n</code>
 times for every single input/step.  The result is a list of the
 results of each single step.</p><p>There are also various <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s for observing the passage of time
 (<code><a href="Control-Auto-Time.html#v:count">count</a></code>) and actiong as a &quot;delay&quot; or a way to access the previously
 stepped values of an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p><p>TODO: dropping first few elements</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:count">count</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> b) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:count_">count_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> b =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:lastVal">lastVal</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:lastVal_">lastVal_</a> ::  a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:delay">delay</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:delay_">delay_</a> ::  a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:delayList">delayList</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:delayList_">delayList_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:delayN">delayN</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:delayN_">delayN_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:stretch">stretch</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:stretch_">stretch_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:stretchB">stretchB</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b)</li><li class="src short"><a href="#v:accelerate">accelerate</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a [b]</li><li class="src short"><a href="#v:accelerateWith">accelerateWith</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a [b]</li><li class="src short"><a href="#v:accelOverList">accelOverList</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [a] [b]</li><li class="src short"><a href="#v:skipTo">skipTo</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> c) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a ([b], c)</li><li class="src short"><a href="#v:fastForward">fastForward</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:fastForwardEither">fastForwardEither</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> c b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, [c])</li></ul></div><div id="interface"><h1 id="g:1">A counter</h1><div class="top"><p class="src"><a name="v:count" class="def">count</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> b) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</p><div class="doc"><p>A simple <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that outputs the step count.  First output is 0.</p><p>TODO: should be 1?</p></div></div><div class="top"><p class="src"><a name="v:count_" class="def">count_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> b =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</p><div class="doc"><p>A non-resuming/non-serializing version of <code><a href="Control-Auto-Time.html#v:count">count</a></code>.</p></div></div><h1 id="g:2">Manipulating time</h1><h2 id="g:3">Delaying</h2><div class="top"><p class="src"><a name="v:lastVal" class="def">lastVal</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that returns the last value received by it.  Given an
 &quot;initial value&quot; to output first.</p><p>This is (potentially) a <strong>very dangerous</strong> <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, because its usage and
 its very existence opens the door to breaking denotative/declarative
 style and devolving into imperative style coding.  However, when used
 where it is supposed to be used, it is more or less invaluable, and will
 be an essential part of many programs.</p><p>Its main usage is for dealing with bindings.  If you ever are laying out
 recursive bindings in a high-level/denotative way, you need to have at
 least one value be able to have a &quot;initial output&quot; without depending on
 anything else.  <code><a href="Control-Auto-Time.html#v:lastVal">lastVal</a></code> and <code><a href="Control-Auto-Time.html#v:delay">delay</a></code> allow you to do this.</p><p>See the <a href="https://github.com/mstksg/auto-examples/blob/master/src/Recursive.hs">recursive</a>
 example for more information on the appropriate usage of <code><a href="Control-Auto-Time.html#v:lastVal">lastVal</a></code> and
 <code><a href="Control-Auto-Time.html#v:delay">delay</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:lastVal_" class="def">lastVal_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: a</td><td class="doc"><p>initial value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Time.html#v:lastVal">lastVal</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:delay" class="def">delay</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An alias for <code><a href="Control-Auto-Time.html#v:lastVal">lastVal</a></code>; used in contexts where &quot;delay&quot; is more
 a meaningful description than &quot;last value&quot;.  All of the warnings for
 <code><a href="Control-Auto-Time.html#v:lastVal">lastVal</a></code> still apply, so you should probably read it if you haven't :)</p></div></div><div class="top"><p class="src"><a name="v:delay_" class="def">delay_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: a</td><td class="doc"><p>initial value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Time.html#v:delay">delay</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:delayList" class="def">delayList</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>Like <code><a href="Control-Auto-Time.html#v:delay">delay</a></code>, except has as many &quot;initial values&quot; as the input list.
 Outputs every item in the input list in order before returning the first
 received value.</p><pre>delayList [y0] = delay y0</pre></div></div><div class="top"><p class="src"><a name="v:delayList_" class="def">delayList_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Time.html#v:delayList">delayList</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:delayN" class="def">delayN</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>Like <code><a href="Control-Auto-Time.html#v:delay">delay</a></code>, except delays the desired number of steps with the same
 initial output value.</p><pre>delayN n x0 = delayList (replicate n x0)</pre><pre>delayN 1 x0 = delay x0</pre></div></div><div class="top"><p class="src"><a name="v:delayN_" class="def">delayN_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Time.html#v:delayN">delayN</a></code></p></div></div><h2 id="g:4">Stretching</h2><div class="top"><p class="src"><a name="v:stretch" class="def">stretch</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>stretching factor</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to stretch</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>&quot;stretch&quot; an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> out, slowing time.  <code><code><a href="Control-Auto-Time.html#v:stretch">stretch</a></code> n a</code> will take one
 input, repeat the same output <code>n</code> times (ignoring input), and then take
 another.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a       = stretch 2 (mkAccum (+) 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (ys, _) = overList' a [1,8,5,4,3,7,2,0]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>   [1,1,6,6,9,9,11,11]
-- [1,_,5,_,3,_,2 ,_ ] &lt;-- the inputs
</pre></div></div><div class="top"><p class="src"><a name="v:stretch_" class="def">stretch_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>stretching factor</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to stretch</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Time.html#v:stretch">stretch</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:stretchB" class="def">stretchB</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>stretching factor</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to stretch</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Time.html#v:stretch">stretch</a></code>, but instead of holding the the &quot;stretched&quot; outputs,
 emits a <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> every time the stretched <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> &quot;progresses&quot; (every <code>n</code>
 ticks)</p><p>See <code><a href="Control-Auto-Time.html#v:stretch">stretch</a></code> for more information.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = stretchB 2 (mkAccum (+) 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (ys, _) = overList' a [1,8,5,4,3,7,2,0]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[Blip 1, NoBlip, Blip 6, NoBlip, Blip 9, NoBlip, Blip 11, NoBlip]
</pre></div></div><h2 id="g:5">Accelerating</h2><div class="top"><p class="src"><a name="v:accelerate" class="def">accelerate</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>acceleration factor</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to accelerate</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><code><a href="Control-Auto-Time.html#v:accelerate">accelerate</a></code> n a</code> turns an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> <code>a</code> into an &quot;accelerated&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>,
 where every input is fed into the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> <code>n</code> times.  All of the results
 are collected in the output.</p><p>The same input is fed repeatedly <code>n</code> times.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = accelerate 3 (mkAccum (+) 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output ys1 a' = stepAuto' a 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys1
</code></strong>[5,10,15]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output ys2 _  = stepAuto' a' (-8)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys2
</code></strong>[7,-1,-9]
</pre></div></div><div class="top"><p class="src"><a name="v:accelerateWith" class="def">accelerateWith</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>default input value, during acceleration periods</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>acceleration factor</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to accelerate</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><code><a href="Control-Auto-Time.html#v:accelerateWith">accelerateWith</a></code> xd n a</code> behaves like <code><code><a href="Control-Auto-Time.html#v:accelerate">accelerate</a></code> n a</code>, except
 instead of <em>repeating</em> the same intput <code>n</code> times, that input is fed
 once; the rest of the <code>n</code> times, <code>a</code> is fed <code>xd</code>, the &quot;default&quot; <code>x</code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = accelerateWith (-1) 3 (mkAccum (+) 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output ys1 a' = stepAuto' a 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys1
</code></strong>[5,4,3]    -- fed 5, then (-1) twice
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output ys2 _  = stepAuto' a' 14
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys2
</code></strong>[17,16,15] -- fed 14, then (-1) twice
</pre></div></div><div class="top"><p class="src"><a name="v:accelOverList" class="def">accelOverList</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to accelerate</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [a] [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Turns an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> into an &quot;accelerated&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>; an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that takes
 an <code>a</code> and returns a <code>b</code> turns into an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that takes a <em>list</em> of <code>a</code>
 and returns a <em>list</em> of <code>b</code> from running that <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> on all of those <code>a</code>
 in order.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = accelOverList (mkAccum (+) 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output ys1 a' = stepAuto' a [3,9,2]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys1
</code></strong>[3, 12, 14]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output ys2 _  = stepAuto' a' [8,5]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys2
</code></strong>[22, 30]
</pre></div></div><h2 id="g:6">Skipping</h2><div class="doc"><p>TODO: say something</p></div><div class="top"><p class="src"><a name="v:skipTo" class="def">skipTo</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>default input value, during skipping periods</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> c)</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to skip over, until each <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code>.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a ([b], c)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Takes an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that produces <code>(b, <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> c)</code>, and turns it into an
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that produces <code>([b], c)</code>.</p><p>Basically, the new <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> &quot;squishes together&quot; the periods of output
 between each <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> occurrnece.  All outputs between each <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code>
 occurrence are accumulated and returned in the resulting <code>[b]</code>.</p><p>It &quot;does this&quot; in the same manner as <code><a href="Control-Auto-Time.html#v:accelerateWith">accelerateWith</a></code> and <code><a href="Control-Auto-Time.html#v:fastForward">fastForward</a></code>:
 first feed the input, then step repeatedly with the default input value.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a :: Auto' Int (Int, Blip String)
</code></strong>        a = proc i -&gt; do
                sums &lt;- mkAccum (+) 0 -&lt; i
                blp  &lt;- inB 3         -&lt; i     -- Blip at every 3 ticks.
                id    -&lt; (sums, show &lt;$&gt; blp)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let skipA :: Auto' Int ([Int], String)
</code></strong>        skipA = skipTo (-1) a
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output res1 skipA' = stepAuto' skipA 8
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>([8,7,6], &quot;6&quot;)     -- fed 8 first, then (-1) repeatedly
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output res2 _      = stepAuto' skipA' 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>([11,10,9], &quot;9&quot;)   -- fed 5 first, then (-1) repeatedly
</pre></div></div><div class="top"><p class="src"><a name="v:fastForward" class="def">fastForward</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>default input</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to fastforward (past each <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>)</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Takes an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> and basically &quot;removes&quot; the periods in which it
 returns <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, by re-running the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with the same input until it
 outputs a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code>.</p><p>Basically, it magically turns an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code> into an
 <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code>, by skipping over each <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>.</p><p>It does this in the same manner as <code><a href="Control-Auto-Time.html#v:accelerateWith">accelerateWith</a></code> and <code><a href="Control-Auto-Time.html#v:skipTo">skipTo</a></code>: first
 feed in the input, then step repeatedly with the default input value.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a :: Auto' Int (Maybe Int)
</code></strong>        a = proc i -&gt; do
                sums &lt;- mkAccum (+) 0 -&lt; i
                id    -&lt; if (i `mod` 5) == 0
                           then Just i
                           else Nothing
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let ffA :: Auto' Int Int
</code></strong>        ffA = fastForward (-1) a
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y1 ffA' = stepAuto' ffA 7
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y1
</code></strong>5          -- went from 7 (Nothing), to 6 (Nothing), to 5 (Just 5)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y2 _    = stepAuto' ffA' (-9)
</code></strong>-5         -- went from -4 (Nothing) to -5 (Just (-5))
</pre></div></div><div class="top"><p class="src"><a name="v:fastForwardEither" class="def">fastForwardEither</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>default input</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#t:Either">Either</a> c b)</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to fast-forward (past each <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#v:Left">Left</a></code>)</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (b, [c])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Same behavior as <code><a href="Control-Auto-Time.html#v:fastForward">fastForward</a></code>, except accumulates all of the <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Either.html#v:Left">Left</a></code>
 c</code> outputs in a list.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>