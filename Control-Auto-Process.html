<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Process</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Process.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.1.0.0: DSL providing denotational, compositional semantics for
discrete-step, locally stateful, interactive programs,
games &amp; automations.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2014</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Process</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Numerical</a></li><li><a href="#g:2">Monoidal/Semigroup</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Various <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s for miscellaneous common processes.</p><p>Note that all of these can be turned into an equivalent version acting
 on <code>Blip</code> streams, with <code>perBlip</code>:</p><pre><code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>         :: (<code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a></code> a, <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a></code> a) =&gt; a -&gt; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a a
<code>perBlip</code> <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code> :: (<code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a></code> a, <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a></code> a) =&gt; a -&gt; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code>Blip</code> a) (<code>Blip</code> a)
</pre></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:sumFrom">sumFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFrom_">sumFrom_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFromD">sumFromD</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFromD_">sumFromD_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:deltas">deltas</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:deltas_">deltas_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:mappender">mappender</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappender_">mappender_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappendFrom">mappendFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.15.3/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappendFrom_">mappendFrom_</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.15.3/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li></ul></div><div id="interface"><h1 id="g:1">Numerical</h1><div class="top"><p class="src"><a name="v:sumFrom" class="def">sumFrom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Outputs the running sum of all items passed so far, starting with an
 initial count.</p><p>The first output is the sum of the first input with the initial count.
 See the documentation for <code><a href="Control-Auto-Process.html#v:sumFromD">sumFromD</a></code> for more information.</p><pre>sumFrom x0 = mkAccum (+) x0</pre></div></div><div class="top"><p class="src"><a name="v:sumFrom_" class="def">sumFrom_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:sumFromD" class="def">sumFromD</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>, except the first output is the starting count.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = sumFromD 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y1 a' = stepAuto' a 10
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y1
</code></strong>5
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y2 _  = stepAuto' a' 3
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y2
</code></strong>10
</pre><p>It's <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>, but &quot;delayed&quot;.</p><p>Useful for recursive bindings, where you need at least one value to be
 able to produce its &quot;first output&quot; without depending on anything else.</p><pre>sumFromD x0 = delay x0 . sumFrom x0</pre></div></div><div class="top"><p class="src"><a name="v:sumFromD_" class="def">sumFromD_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:sumFromD">sumFromD</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:deltas" class="def">deltas</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</p><div class="doc"><p>Returns the difference between the received input and the previous
 input.  The first result is <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>; if you have something you want
 the first result to be, you can use <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code> from
 <a href="Control-Auto-Interval.html">Control.Auto.Interval</a>, or just <code>fromMaybe</code> or <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:maybe">maybe</a></code> from
 <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html">Data.Maybe</a>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = deltas
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y1 a'  = stepAuto' a 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y1
</code></strong>Nothing
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y2 a'' = stepAuto' a' 7
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y2
</code></strong>Just 2
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y3 _   = stepAuto' a'' 4
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y3
</code></strong>Just (-3)
</pre><p>Usage with <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = deltas &lt;|!&gt; pure 100
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (ys, _) = overList' a [5,7,4]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[100, 2, -3]
</pre><p>Usage with <code>fromMaybe</code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = fromMaybe 100 &lt;$&gt; deltas
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (ys, _) = overList' a [5,7,4]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[100, 2, -3]
</pre></div></div><div class="top"><p class="src"><a name="v:deltas_" class="def">deltas_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:deltas">deltas</a></code>.</p></div></div><h1 id="g:2">Monoidal/Semigroup</h1><div class="top"><p class="src"><a name="v:mappender" class="def">mappender</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>Accumulates the monoid sum of all inputs, starting with <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#v:mempty">mempty</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = mappender
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y1 a'  = stepAuto' a (Last (Just 4))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y1
</code></strong>Last (Just 4)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y2 a'' = stepAuto' a' (Last Nothing)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y2
</code></strong>Last (Just 4)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y3 _   = stepAuto' a'' (Last (Just 2))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y3
</code></strong>Last (Just 2)
</pre><pre>mappender = mkAccum mappend mempty</pre></div></div><div class="top"><p class="src"><a name="v:mappender_" class="def">mappender_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:mappendFrom" class="def">mappendFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.15.3/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>Accumulates the semigroup sum of all of its inputs; the same as
 <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>, but you have to provide a &quot;starting&quot; value.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = mappendFrom (Max 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y1 a' = stepAuto' a (Max 3)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y1
</code></strong>Max 3
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y2 _  = stepAuto' a' (Max (-2))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y2
</code></strong>Max 3
</pre><pre>mappendFrom m0 = mkAccum (&lt;&gt;) m0</pre></div></div><div class="top"><p class="src"><a name="v:mappendFrom_" class="def">mappendFrom_</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.15.3/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>