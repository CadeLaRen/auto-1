<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Process</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Process.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.2.0.4: Denotative, locally stateful programming DSL &amp; platform</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2015</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Process</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Numerical</a><ul><li><a href="#g:2">Numerical signal transformations/systems</a></li></ul></li><li><a href="#g:3">Monoidal/Semigroup</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Various <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s describing relationships following common processes,
 like <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>, whose output is the cumulative sum of the input.</p><p>Also has some <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> constructors inspired from digital signal
 processing signal transformation systems and statistical models.</p><p>Note that all of these can be turned into an equivalent version acting
 on blip streams, with <code>perBlip</code>:</p><pre><code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code> n           :: <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a></code> a =&gt; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a a
<code>perBlip</code> (<code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code> n) :: <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a></code> a =&gt; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code>Blip</code> a) (<code>Blip</code> a)
</pre></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:sumFrom">sumFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFrom_">sumFrom_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFromD">sumFromD</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFromD_">sumFromD_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:productFrom">productFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:productFrom_">productFrom_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:deltas">deltas</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:deltas_">deltas_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:movingAverage">movingAverage</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a) =&gt; [a] -&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:movingAverage_">movingAverage_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; [a] -&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:impulseResponse">impulseResponse</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a) =&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:impulseResponse_">impulseResponse_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:autoRegression">autoRegression</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> b, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b) =&gt; [b] -&gt; [b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:autoRegression_">autoRegression_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> b =&gt; [b] -&gt; [b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:arma">arma</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a) =&gt; [a] -&gt; [a] -&gt; [a] -&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:arma_">arma_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; [a] -&gt; [a] -&gt; [a] -&gt; [a] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappender">mappender</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappender_">mappender_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappendFrom">mappendFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappendFrom_">mappendFrom_</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li></ul></div><div id="interface"><h1 id="g:1">Numerical</h1><div class="top"><p class="src"><a name="v:sumFrom" class="def">sumFrom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The stream of outputs is the cumulative/running sum of the inputs so
 far, starting with an initial count.</p><p>The first output takes into account the first input.  See <code><a href="Control-Auto-Process.html#v:sumFromD">sumFromD</a></code> for
 a version where the first output is the initial count itself.</p><pre>sumFrom x0 = accum (+) x0</pre></div></div><div class="top"><p class="src"><a name="v:sumFrom_" class="def">sumFrom_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:sumFromD" class="def">sumFromD</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>, except the first output is the starting count.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = sumFromD 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (y1, a') = stepAuto' a 10
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y1
</code></strong>5
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (y2, _ ) = stepAuto' a' 3
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y2
</code></strong>10
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (sumFrom 0) [1..10]
</code></strong>[1,3,6,10,15,21,28,36,45,55]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (sumFromD 0) [1..10]
</code></strong>[0,1,3,6,10,15,21,28,36,45]
</pre><p>It's <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>, but &quot;delayed&quot;.</p><p>Useful for recursive bindings, where you need at least one value to be
 able to produce its &quot;first output&quot; without depending on anything else.</p><pre>sumFromD x0 = sumFrom x0 . delay 0</pre><pre>sumFromD x0 = delay x0 . sumFrom x0</pre></div></div><div class="top"><p class="src"><a name="v:sumFromD_" class="def">sumFromD_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:sumFromD">sumFromD</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:productFrom" class="def">productFrom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial product</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The output is the running/cumulative product of all of the inputs so
 far, starting from an initial product.</p><pre>productFrom x0 = accum (*) x0</pre></div></div><div class="top"><p class="src"><a name="v:productFrom_" class="def">productFrom_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial product</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:productFrom">productFrom</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:deltas" class="def">deltas</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</p><div class="doc"><p>The output is the the difference between the input and the previously
 received input.</p><p>First result is a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, so you can use <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code> or <code><a href="Control-Auto-Interval.html#v:fromInterval">fromInterval</a></code> or
 <code>fromMaybe</code> to get a &quot;default first value&quot;.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' deltas [1,6,3,5,8]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[Nothing, Just 5, Just (-3), Just 2, Just 3]
</code></strong></pre><p>Usage with <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = deltas &lt;|!&gt; pure 100
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (deltas &lt;|!&gt; pure 100) [1,6,3,5,8]
</code></strong>[100, 5, -3, 2, 3]
</pre><p>Usage with <code>fromMaybe</code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (fromMaybe 100 &lt;$&gt; deltas) [1,6,3,5,8]
</code></strong>[100, 5, -3, 2, 3]
</pre></div></div><div class="top"><p class="src"><a name="v:deltas_" class="def">deltas_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:deltas">deltas</a></code>.</p></div></div><h2 id="g:2">Numerical signal transformations/systems</h2><div class="top"><p class="src"><a name="v:movingAverage" class="def">movingAverage</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [a]</td><td class="doc"><p>weights to apply to previous inputs,
     from most recent</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>starting history/initial conditions</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The output is the sum of the past inputs, multiplied by a moving
 window of weights.</p><p>For example, if the last received inputs are <code>[1,2,3,4]</code> (from most
 recent to oldest), and the window of weights is <code>[2,0.5,4]</code>, then the
 output will be <code>1*2 + 0.5*2 + 4*3</code>, or <code>15</code>.  (The weights are assumed
 to be zero past the end of the weight window)</p><p>The immediately received input is counted as a part of the history.</p><p>Mathematically,
 <code>y_n = w_0 * x_(n-0) + w_1 + x_(n-1) + w_2 * x_(n-1) + ...</code>, for all
 <code>w</code>s in the weight window, where the first item is <code>w_0</code>.  <code>y_n</code> is the
 <code>n</code>th output, and <code>x_n</code> is the <code>n</code>th input.</p><p>Note that this serializes the history of the input...or at least the
 history as far back as the entire window of weights.  (A weight list of
 five items will serialize the past five received items)  If your weight
 window is very long (or infinite), then serializing is a bad idea!</p><p>The second parameter is a list of a &quot;starting history&quot;, or initial
 conditions, to be used when the actual input history isn't long enough.
 If you want all your initial conditions/starting history to be <code>0</code>, just
 pass in <code>[]</code>.</p><p>Minus serialization, you can implement <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code> as:</p><pre>sumFrom n = movingAverage (repeat 1) [n]
</pre><p>And you can implement a version of <code><a href="Control-Auto-Process.html#v:deltas">deltas</a></code> as:</p><pre>deltas = movingAverage [1,-1] []
</pre><p>It behaves the same, except the first step outputs the initially
 received value.  So it's realy a bit like</p><pre>(movingAverage [1,-1] []) == (deltas <a href="|!">|!</a> id)
</pre><p>Where for the first step, the actual input is used instead of the delta.</p><p>Name comes from the statistical model.</p></div></div><div class="top"><p class="src"><a name="v:movingAverage_" class="def">movingAverage_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [a]</td><td class="doc"><p>weights to apply to previous inputs,
     from most recent</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>starting history/initial conditions</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Process.html#v:movingAverage">movingAverage</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:impulseResponse" class="def">impulseResponse</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [a]</td><td class="doc"><p>the impulse response function</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Any linear time independent stream transformation can be encoded by
 the response of the transformation when given <code>[1,0,0,0...]</code>, or <code>1
 : <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-List.html#v:repeat">repeat</a></code> 0</code>.  So, given an <a href="LTI.html">LTI</a> <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, if you feed it <code>1 : <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-List.html#v:repeat">repeat</a></code>
 0</code>, the output is what is called an &quot;impulse response function&quot;.</p><p>For any <a href="LTI.html">LTI</a> <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, we can reconstruct the behavior of the original
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> given its impulse response.  Give <code><a href="Control-Auto-Process.html#v:impulseResponse">impulseResponse</a></code> an impulse
 response, and it will recreate/reconstruct the original <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let getImpulseResponse a = streamAuto' a (1 : repeat 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let sumFromImpulseResponse = getImpulseResponse (sumFrom 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (sumFrom 0) [1..10]
</code></strong>[1,3,6,10,15,21,28,36,45,55]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (impulseResponse sumFromImpulseResponse) [1..10]
</code></strong>[1,3,6,10,15,21,28,36,45,55]
</pre><p>Use this function to create an LTI system when you know its impulse
 response.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 10 . streamAuto' (impulseResponse (map (2**) [0,-1..])) $ repeat 1
</code></strong>[1.0,1.5,1.75,1.875,1.9375,1.96875,1.984375,1.9921875,1.99609375,1.998046875]
</pre><p>All impulse response after the end of the given list is assumed to be
 zero.</p><p>Mathematically,
 <code>y_n = h_0 * x_(n-0) + h_1 + x_(n-1) + h_2 * x_(n-1) + ...</code>, for all
 <code>h_n</code> in the input response, where the first item is <code>h_0</code>.</p><p>Note that when this is serialized, it must serialize a number of input
 elements equal to the length of the impulse response list...so if you give
 an infinite impulse response, you might want to use <code><a href="Control-Auto-Process.html#v:impulseResponse_">impulseResponse_</a></code>,
 or not serialize.</p><p>By the way, <code><code><a href="Control-Auto-Process.html#v:impulseResponse">impulseResponse</a></code> ir == <code><a href="Control-Auto-Process.html#v:movingAverage">movingAverage</a></code> ir []</code>.</p></div></div><div class="top"><p class="src"><a name="v:impulseResponse_" class="def">impulseResponse_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [a]</td><td class="doc"><p>the impulse response function</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Process.html#v:impulseResponse">impulseResponse</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:autoRegression" class="def">autoRegression</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> b, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [b]</td><td class="doc"><p>weights to apply to previous outputs,
     from most recent</p></td></tr><tr><td class="src">-&gt; [b]</td><td class="doc"><p>starting history/initial conditions</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The output is the sum of the past outputs, multiplied by a moving
 window of weights.  Ignores all input.</p><p>For example, if the last outputs are <code>[1,2,3,4]</code> (from most recent to
 oldest), and the window of weights is <code>[2,0.5,4]</code>, then the output will
 be <code>1*2 + 0.5*2 + 4*3</code>, or <code>15</code>.  (The weights are assumed to be zero
 past the end of the weight window)</p><p>Mathematically, <code>y_n = w_1 * y_(n-1) + w_2 * y_(n-2) + ...</code>, for all <code>w</code>
 in the weight window, where the first item is <code>w_1</code>.</p><p>Note that this serializes the history of the outputs...or at least the
 history as far back as the entire window of weights.  (A weight list of
 five items will serialize the past five outputted items)  If your weight
 window is very long (or infinite), then serializing is a bad idea!</p><p>The second parameter is a list of a &quot;starting history&quot;, or initial
 conditions, to be used when the actual output history isn't long enough.
 If you want all your initial conditions/starting history to be <code>0</code>, just
 pass in <code>[]</code>.</p><p>You can use this to implement any linear recurrence relationship, like
 he fibonacci sequence:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>evalAutoN' 10 (autoRegression [1,1] [1,1]) ()
</code></strong>[2,3,5,8,13,21,34,55,89,144]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>evalAutoN' 10 (fromList [1,1] --&gt; autoRegression [1,1] [1,1]) ()
</code></strong>[1,1,2,3,5,8,13,21,34,55]
</pre><p>Which is 1 times the previous value, plus one times the value before
 that.</p><p>You can create a series that doubles by having it be just twice the
 previous value:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>evalAutoN' 10 (autoRegression [2] [1]) ()
</code></strong>[2,,4,8,16,32,64,128,256,512,1024]
</pre><p>Name comes from the statistical model.</p></div></div><div class="top"><p class="src"><a name="v:autoRegression_" class="def">autoRegression_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> b</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [b]</td><td class="doc"><p>weights to apply to previous outputs,
     from most recent</p></td></tr><tr><td class="src">-&gt; [b]</td><td class="doc"><p>starting history/initial conditions</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Process.html#v:autoRegression">autoRegression</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:arma" class="def">arma</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [a]</td><td class="doc"><p>weights for the &quot;auto-regression&quot; components</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>weights for the &quot;moving average&quot; components</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>an &quot;initial history&quot; of outputs, recents first</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>an &quot;initial history&quot; of inputs, recents first</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A combination of <code><a href="Control-Auto-Process.html#v:autoRegression">autoRegression</a></code> and <code><a href="Control-Auto-Process.html#v:movingAverage">movingAverage</a></code>.  Inspired by
 the statistical model.</p><p>Mathematically:</p><pre>y_n = wm_0 * x_(n-0) + wm_1 * x_(n-1) + wm_2 * x_(n-2) + ...
                     + wa_1 * y_(n-1) + wa_2 * y_(n-1) + ...
</pre><p>Where <code>wm_n</code>s are all of the &quot;moving average&quot; weights, where the first
 weight is <code>wm_0</code>, and <code>wa_n</code>s are all of the &quot;autoregression&quot; weights,
 where the first weight is <code>wa_1</code>.</p></div></div><div class="top"><p class="src"><a name="v:arma_" class="def">arma_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [a]</td><td class="doc"><p>weights for the &quot;auto-regression&quot; components</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>weights for the &quot;moving average&quot; components</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>an &quot;initial history&quot; of outputs, recents first</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>an &quot;initial history&quot; of inputs, recents first</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Process.html#v:arma">arma</a></code>.</p></div></div><h1 id="g:3">Monoidal/Semigroup</h1><div class="top"><p class="src"><a name="v:mappender" class="def">mappender</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>The output is the running/cumulative <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#v:mconcat">mconcat</a></code> of all of the input
 seen so far, starting with <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#v:mempty">mempty</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamauto' mappender . map Last $ [Just 4, Nothing, Just 2, Just 3]
</code></strong>[Last (Just 4), Last (Just 4), Last (Just 2), Last (Just 3)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' mappender [&quot;hello&quot;,&quot;world&quot;,&quot;good&quot;,&quot;bye&quot;]
</code></strong>[&quot;hello&quot;,&quot;helloworld&quot;,&quot;helloworldgood&quot;,&quot;helloworldgoodbye&quot;]
</pre><pre>mappender = accum mappend mempty</pre></div></div><div class="top"><p class="src"><a name="v:mappender_" class="def">mappender_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:mappendFrom" class="def">mappendFrom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The output is the running <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#v:-60--62-">&lt;&gt;</a></code>-sum (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#v:mappend">mappend</a></code> for <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#t:Semigroup">Semigroup</a></code>) of all
 of the input values so far, starting with a given starting value.
 Basically like <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>, but with a starting value.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (mappendFrom (Max 0)) [Max 4, Max (-2), Max 3, Max 10]
</code></strong>[Max 4, Max 4, Max 4, Max 10]
</pre><pre>mappendFrom m0 = accum (&lt;&gt;) m0</pre></div></div><div class="top"><p class="src"><a name="v:mappendFrom_" class="def">mappendFrom_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>