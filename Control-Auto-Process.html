<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Process</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Process.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.1.0.0: Locally stateful programming with denotational semantics.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2014</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Process</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Numerical</a></li><li><a href="#g:2">Monoidal/Semigroup</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Various <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s describing relationships following common processes,
 like <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>, whose output is the cumulative sum of the input.</p><p>Note that all of these can be turned into an equivalent version acting
 on <code>Blip</code> streams, with <code>perBlip</code>:</p><pre><code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code> n           :: <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a></code> a =&gt; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a a
<code>perBlip</code> (<code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code> n) :: <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a></code> a =&gt; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code>Blip</code> a) (<code>Blip</code> a)
</pre></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:sumFrom">sumFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFrom_">sumFrom_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFromD">sumFromD</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:sumFromD_">sumFromD_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:productFrom">productFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:productFrom_">productFrom_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:deltas">deltas</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:deltas_">deltas_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:mappender">mappender</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappender_">mappender_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappendFrom">mappendFrom</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.1/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a) =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li><li class="src short"><a href="#v:mappendFrom_">mappendFrom_</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.1/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</li></ul></div><div id="interface"><h1 id="g:1">Numerical</h1><div class="top"><p class="src"><a name="v:sumFrom" class="def">sumFrom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The stream of outputs is the cumulative/running sum of the inputs so
 far, starting with an initial count.</p><p>The first output takes into account the first input.  See <code><a href="Control-Auto-Process.html#v:sumFromD">sumFromD</a></code> for
 a version where the first output is the initial count itself.</p><pre>sumFrom x0 = accum (+) x0</pre></div></div><div class="top"><p class="src"><a name="v:sumFrom_" class="def">sumFrom_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:sumFromD" class="def">sumFromD</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>, except the first output is the starting count.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = sumFromD 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y1 a' = stepAuto' a 10
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y1
</code></strong>5
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let Output y2 _  = stepAuto' a' 3
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y2
</code></strong>10
</pre><p>It's <code><a href="Control-Auto-Process.html#v:sumFrom">sumFrom</a></code>, but &quot;delayed&quot;.</p><p>Useful for recursive bindings, where you need at least one value to be
 able to produce its &quot;first output&quot; without depending on anything else.</p><pre>sumFromD x0 = delay x0 . sumFrom x0</pre></div></div><div class="top"><p class="src"><a name="v:sumFromD_" class="def">sumFromD_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial count</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:sumFromD">sumFromD</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:productFrom" class="def">productFrom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial product</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The output is the running/cumulative product of all of the inputs so
 far, starting from an initial product.</p><pre>productFrom x0 = accum (*) x0</pre></div></div><div class="top"><p class="src"><a name="v:productFrom_" class="def">productFrom_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial product</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:productFrom">productFrom</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:deltas" class="def">deltas</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a) =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</p><div class="doc"><p>The output is the the difference between the input and the previously
 received input.</p><p>First result is a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, so you can use <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code> or <code><a href="Control-Auto-Interval.html#v:fromInterval">fromInterval</a></code> or
 <code>fromMaybe</code> to get a &quot;default first value&quot;.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' deltas [1,6,3,5,8]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>[Nothing, Just 5, Just (-3), Just 2, Just 3]
</code></strong></pre><p>Usage with <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = deltas &lt;|!&gt; pure 100
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (deltas &lt;|!&gt; pure 100) [1,6,3,5,8]
</code></strong>[100, 5, -3, 2, 3]
</pre><p>Usage with <code>fromMaybe</code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (fromMaybe 100 &lt;$&gt; deltas) [1,6,3,5,8]
</code></strong>[100, 5, -3, 2, 3]
</pre></div></div><div class="top"><p class="src"><a name="v:deltas_" class="def">deltas_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#t:Num">Num</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:deltas">deltas</a></code>.</p></div></div><h1 id="g:2">Monoidal/Semigroup</h1><div class="top"><p class="src"><a name="v:mappender" class="def">mappender</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>The output is the running/cumulative <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#v:mconcat">mconcat</a></code> of all of the input
 seen so far, starting with <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#v:mempty">mempty</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamauto' mappender . map Last $ [Just 4, Nothing, Just 2, Just 3]
</code></strong>[Last (Just 4), Last (Just 4), Last (Just 2), Last (Just 3)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' mappender [&quot;hello&quot;,&quot;world&quot;,&quot;good&quot;,&quot;bye&quot;]
</code></strong>[&quot;hello&quot;,&quot;helloworld&quot;,&quot;helloworldgood&quot;,&quot;helloworldgoodbye&quot;]
</pre><pre>mappender = accum mappend mempty</pre></div></div><div class="top"><p class="src"><a name="v:mappender_" class="def">mappender_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> a =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:mappendFrom" class="def">mappendFrom</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.1/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The output is the running <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.1/html/Data-Semigroup.html#v:-60--62-">&lt;&gt;</a></code>-sum (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#v:mappend">mappend</a></code> for <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.1/html/Data-Semigroup.html#t:Semigroup">Semigroup</a></code>) of all
 of the input values so far, starting with a given starting value.
 Basically like <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>, but with a starting value.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (mappendFrom (Max 0)) [Max 4, Max (-2), Max 3, Max 10]
</code></strong>[Max 4, Max 4, Max 4, Max 10]
</pre><pre>mappendFrom m0 = accum (&lt;&gt;) m0</pre></div></div><div class="top"><p class="src"><a name="v:mappendFrom_" class="def">mappendFrom_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.1/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>initial value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Process.html#v:mappender">mappender</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>