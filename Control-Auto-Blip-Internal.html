<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Blip.Internal</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Blip-Internal.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.2.0.5: Denotative, locally stateful programming DSL &amp; platform</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2015</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Blip.Internal</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module exposes an &quot;unsafe&quot; interface for working with the internal
 representation of &quot;blip streams&quot;.  If you are programming at the logic
 level or the application level, you should thoroughly be able to avoid
 importing this, and should be happy with importing the <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> type from
 <a href="Control-Auto.html">Control.Auto</a> and blip stream manipulators from <a href="Control-Auto-Blip.html">Control.Auto.Blip</a>.</p><p>If, however, you are programming a framework, library, or backend, you
 might find it useful to manually create your own blip streams/sources.
 In this case, this module will be useful.</p><p>It is important, as with most of this library in general, to always keep
 in mind when you are programming at the &quot;logic&quot; level, and when you are
 programming at the &quot;backend&quot; level.  If you can justify that you are at
 the backend level and not at the logic level of whatever you are
 programming, then this is useful.</p><p>Be sure, of course, that whatever blip streams you do manually
 construct and export preserve &quot;Blip semantics&quot;, which is further
 defined in <a href="Control-Auto-Blip.html">Control.Auto.Blip</a>.</p><p>You have been warned!</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Blip">Blip</a> a<ul class="subs"><li>= <a href="#v:NoBlip">NoBlip</a></li><li>| <a href="#v:Blip">Blip</a> !a</li></ul></li><li class="src short"><a href="#v:merge">merge</a> ::  (a -&gt; a -&gt; a) -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</li><li class="src short"><a href="#v:merge-39-">merge'</a> ::  (a -&gt; c) -&gt; (b -&gt; c) -&gt; (a -&gt; b -&gt; c) -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> c</li><li class="src short"><a href="#v:mergeL">mergeL</a> ::  <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</li><li class="src short"><a href="#v:mergeR">mergeR</a> ::  <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</li><li class="src short"><a href="#v:blip">blip</a> ::  b -&gt; (a -&gt; b) -&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a -&gt; b</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Blip" class="def">Blip</a> a</p><div class="doc"><p>When used in the context of an input or output of an <code>Auto</code>, a <code><code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code>
 a</code> represents a stream that occasionally, at &quot;independent&quot; or &quot;discrete&quot;
 points, emits a value of type <code>a</code>.</p><p>Contrast this to <code>Interval</code>, where things are meant to be &quot;on&quot; or &quot;off&quot;
 for contiguous chunks at a time; blip streams are &quot;blippy&quot;, and
 <code>Interval</code>s are &quot;chunky&quot;.</p><p>It's here mainly because it's a pretty useful abstraction in the context
 of the many combinators found in various modules of this library.  If
 you think of an <code><code>Auto</code> m a (<code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> b)</code> as producing a &quot;blip stream&quot;,
 then there are various combinators and functions that are specifically
 designed to manipulate blip streams.</p><p>For the purposes of the semantics of what <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> is supposed to
 represent, its constructors are hidden.  (Almost) all of the various
 <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> combinators (and its very useful <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Functor">Functor</a></code> instance) &quot;preserve
 <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code>ness&quot; --- one-at-a-time occurrences remain one-at-a-time under all
 of these combinators, and you should have enough so that direct access
 to the constructor is not needed.</p><p>If you are creating a framework, library, or backend, you might want to
 manually create blip stream-producing <code>Auto</code>s for your users to
 access.  In this case, you can import the constructors and useful
 internal (and, of course, semantically unsafe) functions from
 <a href="Control-Auto-Blip-Internal.html">Control.Auto.Blip.Internal</a>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:NoBlip" class="def">NoBlip</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Blip" class="def">Blip</a> !a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Blip" class="caption collapser" onclick="toggleSection('i:Blip')">Instances</p><div id="section.i:Blip" class="show"><table><tr><td class="src"><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Functor">Functor</a> <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> a =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/GHC-Generics.html#t:Generic">Generic</a> (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a)</td><td class="doc"><p>Merge two blip streams together; the result emits with <em>either</em> of the
 two merged streams emit.  When both emit at the same time, emit the
 result of <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#v:-60--62-">&lt;&gt;</a></code>-ing the values together.</p></td></tr><tr><td class="src"><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/deepseq-1.3.0.2/Control-DeepSeq.html#t:NFData">NFData</a> a =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/deepseq-1.3.0.2/Control-DeepSeq.html#t:NFData">NFData</a> (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a =&gt; <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a)</td><td class="doc"><p>Merge two blip streams together; the result emits with <em>either</em> of the
 two merged streams emit.  When both emit at the same time, emit the
 result of <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/semigroups-0.16.2.2/html/Data-Semigroup.html#v:-60--62-">&lt;&gt;</a></code>-ing the values together.</p></td></tr><tr><td class="src"><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Typeable-Internal.html#t:Typeable">Typeable</a> (* -&gt; *) <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><span class="keyword">type</span> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/GHC-Generics.html#t:Rep">Rep</a> (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:merge" class="def">merge</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; a -&gt; a)</td><td class="doc"><p>merging function</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p>first stream</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p>second stream</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p>merged stream</p></td></tr></table></div><div class="doc"><p>Merge two blip streams together; the result emits with <em>either</em> of the
 two merged streams emit.  When both emit at the same time, emit the
 result of applying the given function on the two emitted values.</p><p>Note that this might be too strict for some purposes; see <code><a href="Control-Auto-Blip-Internal.html#v:mergeL">mergeL</a></code> and
 <code><a href="Control-Auto-Blip-Internal.html#v:mergeR">mergeR</a></code> for lazier alternatives.</p></div></div><div class="top"><p class="src"><a name="v:merge-39-" class="def">merge'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; c)</td><td class="doc"><p>function for first stream</p></td></tr><tr><td class="src">-&gt; (b -&gt; c)</td><td class="doc"><p>function for second stream</p></td></tr><tr><td class="src">-&gt; (a -&gt; b -&gt; c)</td><td class="doc"><p>merging function</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p>first stream</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b</td><td class="doc"><p>second stream</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> c</td><td class="doc"><p>merged stream</p></td></tr></table></div><div class="doc"><p>Slightly more powerful <code><a href="Control-Auto-Blip-Internal.html#v:merge">merge</a></code>, but I can't imagine a situation where
 this power is necessary.</p><p>If only the first stream emits, emit with the first function applied to the
 value.  If only the second stream emits, emit with the second function
 applied to the value.  If both emit, then emit with the third function
 applied to both emitted values.</p></div></div><div class="top"><p class="src"><a name="v:mergeL" class="def">mergeL</a> <span class="fixity">infixr 5</span><span class="rightedge"></span></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p>first stream (higher priority)</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p>second stream</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Merges two blip streams together into one, which emits
 <em>either</em> of the original blip streams emit.  If both emit at the same
 time, the left (first) one is favored.</p><p>Lazy on the second stream if the first stream is emitting.</p><p>If we discount laziness, this is <code><code><a href="Control-Auto-Blip-Internal.html#v:merge">merge</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:const">const</a></code></code>.</p></div></div><div class="top"><p class="src"><a name="v:mergeR" class="def">mergeR</a> <span class="fixity">infixl 5</span><span class="rightedge"></span></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p>first stream</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p>second stream (higher priority)</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Merges two blip streams together into one, which emits
 <em>either</em> of the original blip streams emit.  If both emit at the same
 time, the right (second) one is favored.</p><p>Lazy on the first stream if the second stream is emitting.</p><p>If we discount laziness, this is <code><code><a href="Control-Auto-Blip-Internal.html#v:merge">merge</a></code> (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:flip">flip</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html#v:const">const</a></code>)</code>.</p></div></div><div class="top"><p class="src"><a name="v:blip" class="def">blip</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: b</td><td class="doc"><p>default value</p></td></tr><tr><td class="src">-&gt; (a -&gt; b)</td><td class="doc"><p>function to apply on value</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a</td><td class="doc"><p><code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> to deconstruct</p></td></tr><tr><td class="src">-&gt; b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Deconstruct a <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> by giving a default result if the <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> is
 non-occuring and a function to apply on the contents, if the <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> is
 occuring.</p><p>Try not to use if possible, unless you are a framework developer.  If
 you're just making an application, try to use the other various
 combinators in this library.  It'll help you preserve the semantics of
 what it means to be <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code>py.</p><p>Analogous to <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:maybe">maybe</a></code> from <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html">Prelude</a>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>