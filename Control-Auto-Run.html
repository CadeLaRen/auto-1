<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Run</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Run.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.2.0.6: Denotative, locally stateful programming DSL &amp; platform</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2015</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Run</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Special <code>stepAuto</code> versions.</a><ul><li><a href="#g:2">Streaming over lists</a></li><li><a href="#g:3">Running over one item repetitively</a></li></ul></li><li><a href="#g:4">Running &quot;interactively&quot;</a><ul><li><a href="#g:5">Helpers</a></li></ul></li><li><a href="#g:6">Generalized &quot;self-runners&quot;</a></li><li><a href="#g:7">Running on concurrent channels</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides utilities for &quot;running&quot; and &quot;unrolling&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s.
 You'll find &quot;enhanced&quot; versions of <code><a href="Control-Auto-Core.html#v:stepAuto">stepAuto</a></code>, mechanisms for running
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s &quot;interactively&quot; inside <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code>, monadic and non-monadic
 &quot;self-runners&quot; (provide the handlers, and the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> just recursively
 runs intself), and finally, ways of &quot;unrolling&quot; the underlying <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code>
 of <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s into more manageable and composable and easy to work with
 forms.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:streamAuto">streamAuto</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; [a] -&gt; m [b]</li><li class="src short"><a href="#v:streamAuto-39-">streamAuto'</a> ::  <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b -&gt; [a] -&gt; [b]</li><li class="src short"><a href="#v:overList">overList</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; [a] -&gt; m ([b], <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</li><li class="src short"><a href="#v:overList-39-">overList'</a> ::  <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b -&gt; [a] -&gt; ([b], <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b)</li><li class="src short"><a href="#v:stepAutoN">stepAutoN</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; a -&gt; m ([b], <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</li><li class="src short"><a href="#v:stepAutoN-39-">stepAutoN'</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b -&gt; a -&gt; ([b], <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b)</li><li class="src short"><a href="#v:evalAutoN">evalAutoN</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; a -&gt; m [b]</li><li class="src short"><a href="#v:evalAutoN-39-">evalAutoN'</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b -&gt; a -&gt; [b]</li><li class="src short"><a href="#v:interactAuto">interactAuto</a> :: <a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:interactRS">interactRS</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> b) =&gt; <a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a> a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</li><li class="src short"><a href="#v:interactM">interactM</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> c. m c -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> c) -&gt; (b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> b)</li><li class="src short"><a href="#v:duringRead">duringRead</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a) =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> b</li><li class="src short"><a href="#v:bindRead">bindRead</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a) =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> b</li><li class="src short"><a href="#v:run">run</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; m a -&gt; (b -&gt; m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a)) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; m (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</li><li class="src short"><a href="#v:runM">runM</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m') =&gt; (<span class="keyword">forall</span> c. m' c -&gt; m c) -&gt; m a -&gt; (b -&gt; m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a)) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m' a b -&gt; m (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m' a b)</li><li class="src short"><a href="#v:runOnChan">runOnChan</a> ::  (b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Concurrent-Chan.html#t:Chan">Chan</a> a -&gt; <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b)</li><li class="src short"><a href="#v:runOnChanM">runOnChanM</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (<span class="keyword">forall</span> c. m c -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> c) -&gt; (b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Concurrent-Chan.html#t:Chan">Chan</a> a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</li></ul></div><div id="interface"><h1 id="g:1">Special <code><a href="Control-Auto-Core.html#v:stepAuto">stepAuto</a></code> versions.</h1><h2 id="g:2">Streaming over lists</h2><div class="top"><p class="src"><a name="v:streamAuto" class="def">streamAuto</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to stream</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>input stream</p></td></tr><tr><td class="src">-&gt; m [b]</td><td class="doc"><p>output stream</p></td></tr></table></div><div class="doc"><p>Stream an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> over a list, returning the list of results.  Does
 this &quot;lazily&quot; (over the Monad), so with most Monads, this should work
 fine with infinite lists.</p><p>Note that, conceptually, this turns an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> into an <code>[a] -&gt;
 m [b]</code>.</p><p>See <code><a href="Control-Auto-Run.html#v:streamAuto-39-">streamAuto'</a></code> for a simpler example; here is one taking advantage of
 monadic effects:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = arrM print *&gt; sumFrom 0 :: Auto IO Int Int
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys &lt;- streamAuto a [1..5]
</code></strong>1                -- IO effects
2
3
4
5
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[1,3,6,10,15]    -- the result
</pre><p><code>a</code> here is like <code><code>sumFrom</code> 0</code>, except at every step, prints the input
 item to stdout as a side-effect.</p></div></div><div class="top"><p class="src"><a name="v:streamAuto-39-" class="def">streamAuto'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> to stream</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>input stream</p></td></tr><tr><td class="src">-&gt; [b]</td><td class="doc"><p>output stream</p></td></tr></table></div><div class="doc"><p>Stream an <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> over a list, returning the list of results.  Does
 this lazily, so this should work fine with (and is actually somewhat
 designed for) infinite lists.</p><p>Note that conceptually this turns an <code><code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> a b</code> into an <code>[a] -&gt; [b]</code></p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (arr (+3)) [1..10]
</code></strong>[4,5,6,7,8,9,10,11,12,13]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (sumFrom 0) [1..5]
</code></strong>[1,3,6,10,15]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (productFrom 1) . streamAuto' (sumFrom 0) $ [1..5]
</code></strong>[1,3,18,180,2700]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (productFrom 1 . sumFrom 0) $ [1..5]
</code></strong>[1,3,18,180,2700]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' id [1..5]
</code></strong>[1,2,3,4,5]
</pre></div></div><div class="top"><p class="src"><a name="v:overList" class="def">overList</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to run</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>list of inputs to step the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with</p></td></tr><tr><td class="src">-&gt; m ([b], <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</td><td class="doc"><p>list of outputs and the updated <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr></table></div><div class="doc"><p>Streams the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> over a list of inputs; that is, &quot;unwraps&quot; the <code>[a]
 -&gt; m [b]</code> inside.  Streaming is done in the context of the underlying
 monad; when done consuming the list, the result is the list of outputs
 updated/next <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> in the context of the underlying monad.</p><p>Basically just steps the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> by feeding in every item in the list and
 pops out the list of results and the updated/next <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, monadically
 chaining the steppings.</p><p>See <code><a href="Control-Auto-Run.html#v:overList-39-">overList'</a></code> for a simpler example; the following example uses
 effects from <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code> to demonstrate the monadic features of <code><a href="Control-Auto-Run.html#v:overList">overList</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = arrM print *&gt; sumFrom 0 :: Auto IO Int Int
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(ys, a') &lt;- overList a [1..5]
</code></strong>1    -- IO effects
2
3
4
5
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[1,3,6,10,15]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(ys', _) &lt;- overList a' [11..15]
</code></strong>11   -- IO effects
12
13
14
15
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys'
</code></strong>[26,38,51,65,80]
</pre><p><code>a</code> is like <code><code>sumFrom</code> 0</code>, except at every step, prints the input item
 to stdout as a side-effect.  Note that in executing we get the updated
 <code>a'</code>, which ends up with an accumulator of 15.  Now, when we stream
 <code>a'</code>, we pick up were we left off (from 15) on the results.</p></div></div><div class="top"><p class="src"><a name="v:overList-39-" class="def">overList'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> to run</p></td></tr><tr><td class="src">-&gt; [a]</td><td class="doc"><p>list of inputs to step the <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> with</p></td></tr><tr><td class="src">-&gt; ([b], <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b)</td><td class="doc"><p>list of outputs and the updated <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code></p></td></tr></table></div><div class="doc"><p>Streams an <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> over a list of inputs; that is, &quot;unwraps&quot; the <code>[a]
 -&gt; [b]</code> inside.  When done comsuming the list, returns the outputs and
 the updated/next <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (ys, updatedSummer) = overList' (sumFrom 0) [1..5]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[1, 3, 6, 10, 15]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (ys', _) = streamAuto' updatedSummer [1..5]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys'
</code></strong>[16, 18, 21, 25, 30]
</pre><p>If you wanted to stream over an infinite list then you don't care about
 the <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> at the end, and probably want <code><a href="Control-Auto-Run.html#v:streamAuto-39-">streamAuto'</a></code>.</p></div></div><h2 id="g:3">Running over one item repetitively</h2><div class="top"><p class="src"><a name="v:stepAutoN" class="def">stepAutoN</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of times to step the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to run</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>the repeated input</p></td></tr><tr><td class="src">-&gt; m ([b], <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</td><td class="doc"><p>list of outputs and the updated <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr></table></div><div class="doc"><p>Streams (in the context of the underlying monad) the given <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with
 a stream of constant values as input, a given number of times.  After
 the given number of inputs, returns the list of results and the
 next/updated <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, in the context of the underlying monad.</p><pre>stepAutoN n a0 x = overList a0 (replicate n x)</pre><p>See <code><a href="Control-Auto-Run.html#v:stepAutoN-39-">stepAutoN'</a></code> for a simpler example; here is one taking advantage of
 monadic effects:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = arrM print *&gt; sumFrom 0 :: Auto IO Int Int
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(ys, a') &lt;- stepAutoN 5 a 3
</code></strong>3                -- IO effects
3
3
3
3
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[3,6,9,12,15]    -- the result
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(ys'', _) &lt;- stepAutoN 5 a' 5
</code></strong>5                -- IO effects
5
5
5
5
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys''
</code></strong>[20,25,30,35,50] -- the result
</pre><p><code>a</code> here is like <code><code>sumFrom</code> 0</code>, except at every step, prints the input
 item to stdout as a side-effect.</p></div></div><div class="top"><p class="src"><a name="v:stepAutoN-39-" class="def">stepAutoN'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of times to step the <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> to run</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>the repeated input</p></td></tr><tr><td class="src">-&gt; ([b], <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b)</td><td class="doc"><p>list of outputs and the updated <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code></p></td></tr></table></div><div class="doc"><p>Streams the given <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> with a stream of constant values as input,
 a given number of times.  After the given number of inputs, returns the
 list of results and the next/updated <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p><pre>stepAutoN' n a0 x = overList' a0 (replicate n x)</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (ys, a') = stepAutoN' 5 (sumFrom 0) 3
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[3,6,9,12,15]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (ys', _) = stepAutoN' 5 a' 5
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys'
</code></strong>[20,25,30,35,40]
</pre></div></div><div class="top"><p class="src"><a name="v:evalAutoN" class="def">evalAutoN</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of times to step the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to run</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>the repeated input</p></td></tr><tr><td class="src">-&gt; m [b]</td><td class="doc"><p>list of outputs</p></td></tr></table></div><div class="doc"><p>Streams (in the context of the underlying monad) the given <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with
 a stream of constant values as input, a given number of times.  After
 the given number of inputs, returns the list of results in the context
 of the underlying monad.</p><p>Like <code><a href="Control-Auto-Run.html#v:stepAutoN">stepAutoN</a></code>, but drops the &quot;next <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>&quot;.  Only returns the list
 of results.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = arrM print *&gt; sumFrom 0 :: Auto IO Int Int
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys &lt;- evalAutoN 5 a 3
</code></strong>3                -- IO effects
3
3
3
3
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>ys
</code></strong>[3,6,9,12,15]    -- the result
</pre><p><code>a</code> here is like <code><code>sumFrom</code> 0</code>, except at every step, prints the input
 item to stdout as a side-effect.</p></div></div><div class="top"><p class="src"><a name="v:evalAutoN-39-" class="def">evalAutoN'</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of times to step the <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> to run</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>the repeated input</p></td></tr><tr><td class="src">-&gt; [b]</td><td class="doc"><p>list of outputs and the updated <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code></p></td></tr></table></div><div class="doc"><p>Streams the given <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> with a stream of constant values as input,
 a given number of times.  After the given number of inputs, returns the
 list of results and the next/updated <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p><p>Like <code><a href="Control-Auto-Run.html#v:stepAutoN-39-">stepAutoN'</a></code>, but drops the &quot;next <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code>&quot;.  Only returns the list
 of results.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>evalAutoN' 5 (sumFrom 0) 3
</code></strong>[3,6,9,12,15]
</pre></div></div><h1 id="g:4">Running &quot;interactively&quot;</h1><div class="top"><p class="src"><a name="v:interactAuto" class="def">interactAuto</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></td><td class="doc"><p><code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> to run interactively</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</td><td class="doc"><p>final <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> after it all</p></td></tr></table></div><div class="doc"><p>Run an <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> &quot;interactively&quot;.  Every step grab a string from stdin,
 and feed it to the <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code>.  If the <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> is &quot;off&quot;, ends the
 session; if it is &quot;on&quot;, then prints the output value to stdout and
 repeat all over again.</p><p>If your <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> outputs something other than a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code>, you can use
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#v:fmap">fmap</a></code> to transform the output into a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code> en-route (like <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#v:fmap">fmap</a></code>
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#v:show">show</a></code></code>).</p><p>If your <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> takes in something other than a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code>, you can <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/profunctors-4.4.1/html/Data-Profunctor-Unsafe.html#v:lmap">lmap</a></code>
 a function to convert the input <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code> to whatever intput your <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>
 expects.</p><p>You can use <code><a href="Control-Auto-Run.html#v:duringRead">duringRead</a></code> or <code><a href="Control-Auto-Run.html#v:bindRead">bindRead</a></code> if you have an <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> or
 <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> that takes something <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#v:read">read</a></code>able, to chug along until you
 find something non-readable; there's also <code><a href="Control-Auto-Run.html#v:interactRS">interactRS</a></code> which handles
 most of that for you.</p><p>Outputs the final <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> when the interaction terminates.</p></div></div><div class="top"><p class="src"><a name="v:interactRS" class="def">interactRS</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a> a b</td><td class="doc"><p><code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> to run interactively</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a>)</td><td class="doc"><p>final <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> after it all</p></td></tr></table></div><div class="doc"><p>Like <code>interact</code>, but instead of taking <code><code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code>
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code></code>, takes any <code><code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> a b</code> as long as <code>a</code> is <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a></code> and <code>b</code>
 is <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Show.html#t:Show">Show</a></code>.</p><p>Will &quot;stop&quot; if either (1) the input is not <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#v:read">read</a></code>-able or (2) the
 <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> turns off.</p><p>Outputs the final <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> when the interaction terminates.</p></div></div><div class="top"><p class="src"><a name="v:interactM" class="def">interactM</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> c. m c -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> c)</td><td class="doc"><p>natural transformation from the underlying <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code> of the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code></p></td></tr><tr><td class="src">-&gt; (b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>function to &quot;handle&quot; each succesful <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> output</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to run &quot;interactively&quot;</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> b)</td><td class="doc"><p>final <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> after it all</p></td></tr></table></div><div class="doc"><p>Like <code>interact</code>, but much more general.  You can run it with an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>
 of any underlying <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code>, as long as you provide the natural
 transformation from that <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code> to <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code>.</p><p>The <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> can any <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b</code>; you have to provide
 a function to &quot;handle&quot; it yourself; a <code>b -&gt; <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></code></code>.  You can print
 the result, or write the result to a file, etc.; the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a></code> parameter
 determines whether or not to &quot;continue running&quot;, or to stop and return
 the final updated <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p></div></div><h2 id="g:5">Helpers</h2><div class="top"><p class="src"><a name="v:duringRead" class="def">duringRead</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> taking in a readable <code>a</code>, outputting <code>b</code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> taking in <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code>, outputting <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b</code></p></td></tr></table></div><div class="doc"><p>Turn an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that takes a &quot;readable&quot; <code>a</code> and outputs a <code>b</code> into an
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that takes a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code> and outputs a <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b</code>.  When the
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code> is successfuly readable as the <code>a</code>, it steps the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> and
 outputs a succesful <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> result; when it isn't, it outputs a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>
 on that step.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a0 = duringRead (accum (+) (0 :: Int))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (y1, a1) = stepAuto' a0 &quot;12&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y1
</code></strong>Just 12
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (y2, a2) = stepAuto' a1 &quot;orange&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y2
</code></strong>Nothing
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (y3, _ ) = stepAuto' a2 &quot;4&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>y3
</code></strong>Just 16
</pre><p>See <code>interact</code> for neat use cases.</p></div></div><div class="top"><p class="src"><a name="v:bindRead" class="def">bindRead</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Text-Read.html#t:Read">Read</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> taking in a readable <code>a</code>, outputting <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b</code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a> b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> taking in <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code>, outputting <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b</code></p></td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Run.html#v:duringRead">duringRead</a></code>, but the original <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> would output a <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b</code>
 instead of a <code>b</code>.  Returns <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> if either the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code> fails to
 parse or if the original <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> returned <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>; returns <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> if
 the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-String.html#t:String">String</a></code> parses and the original <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> returned <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code>.</p><p>See <code>interact</code> for neat use cases.</p></div></div><h1 id="g:6">Generalized &quot;self-runners&quot;</h1><div class="top"><p class="src"><a name="v:run" class="def">run</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; m a</td><td class="doc"><p>action to retrieve starting input</p></td></tr><tr><td class="src">-&gt; (b -&gt; m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a))</td><td class="doc"><p>handling output and next input in <code>m</code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr><tr><td class="src">-&gt; m (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</td><td class="doc"><p>return the ran/updated <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> in <code>m</code></p></td></tr></table></div><div class="doc"><p>Heavy duty abstraction for &quot;self running&quot; an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.  Give a starting
 input action, a (possibly side-effecting) function from an output to
 the next input to feed in, and the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, and you get a feedback
 loop that constantly feeds back in the result of the function applied to
 the previous output. <a href="Stops.html">Stops</a> when the &quot;next input&quot; function returns
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>.</p><p>Note that the none of the results are actually returned from the loop.
 Instead, if you want to process the results, they must be utilized in
 the &quot;side-effects' of the &quot;next input&quot; function.  (ie, a write to
 a file, or an accumulation to a state).</p></div></div><div class="top"><p class="src"><a name="v:runM" class="def">runM</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m')</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> c. m' c -&gt; m c)</td><td class="doc"><p>natural transformation from <code>m'</code> (the Auto monad) to <code>m</code> (the running monad)</p></td></tr><tr><td class="src">-&gt; m a</td><td class="doc"><p>action to retrieve starting input</p></td></tr><tr><td class="src">-&gt; (b -&gt; m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a))</td><td class="doc"><p>handling output and next input in <code>m</code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m' a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> in monad <code>m'</code></p></td></tr><tr><td class="src">-&gt; m (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m' a b)</td><td class="doc"><p>return the resulting/run Auto in <code>m</code></p></td></tr></table></div><div class="doc"><p>A generalized version of <code><a href="Control-Auto-Run.html#v:run">run</a></code> where the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code> you are &quot;running&quot; the
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> in is different than the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code> underneath the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.  You just
 need to provide the natural transformation.</p></div></div><h1 id="g:7">Running on concurrent channels</h1><div class="top"><p class="src"><a name="v:runOnChan" class="def">runOnChan</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>function to &quot;handle&quot; each
     succesful <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> output;
     result is whether or not to
     continue.</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Concurrent-Chan.html#t:Chan">Chan</a> a</td><td class="doc"><p><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Concurrent-Chan.html#t:Chan">Chan</a></code> queue to pull input from.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> to run</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a b)</td><td class="doc"><p>final <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> after it all, when
     the handle resturns <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#v:False">False</a></code></p></td></tr></table></div><div class="doc"><p>Runs the <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> in IO with inputs read from a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Concurrent-Chan.html#t:Chan">Chan</a></code> queue, from
 <a href="Control-Concurrency-Chan.html">Control.Concurrency.Chan</a>.  It'll block until the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Concurrent-Chan.html#t:Chan">Chan</a></code> has a new
 input, run the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with the received input, process the output with
 the given handling function, and start over if the handling function
 returns <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#v:True">True</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:runOnChanM" class="def">runOnChanM</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<span class="keyword">forall</span> c. m c -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> c)</td><td class="doc"><p>natural transformation from the
     underling <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code> of the
     <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code></p></td></tr><tr><td class="src">-&gt; (b -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>function to &quot;handle&quot; each
     succesful <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> output;
     result is whether or not to
     continue.</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Concurrent-Chan.html#t:Chan">Chan</a> a</td><td class="doc"><p><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Concurrent-Chan.html#t:Chan">Chan</a></code> queue to pull input from.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to run</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a> (<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</td><td class="doc"><p>final <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> after it all, when
     the handle resturns <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#v:False">False</a></code></p></td></tr></table></div><div class="doc"><p>A generalized version of <code><a href="Control-Auto-Run.html#v:runOnChan">runOnChan</a></code> that can run on any <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m</code>;
 all that is required is a natural transformation from the underyling
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code> <code>m</code> to <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/System-IO.html#t:IO">IO</a></code>.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>