<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Collection</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Collection.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.2.0.4: Denotative, locally stateful programming DSL &amp; platform</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2015</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Collection</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Static collections</a></li><li><a href="#g:2">Dynamic collections</a></li><li><a href="#g:3">Multiplexers</a><ul><li><a href="#g:4">Single input, single output</a></li><li><a href="#g:5">Multiple input, multiple output</a></li></ul></li><li><a href="#g:6"><a href="Gathering.html">Gathering</a>/accumulating collections</a><ul><li><a href="#g:7">Single input, multiple output</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s in this module are all dedicated to managing and working
 with (possibly dynamic) &quot;collections&quot; of <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s: an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> where the
 output stream is typically <em>many</em> output streams collected from running
 many input streams through many internal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s.</p><p>Particularly useful because a lot of these allow you to add or take away
 these &quot;channels of inputs&quot; (or &quot;internal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s&quot;) dynamically; so,
 useful for collections that can be added to or deleted from, like
 monsters on a map.</p><p>These multiplex, merge, or collect input streams through many <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s
 and output the multiplexed, merged, or collected output streams.</p><p>A lot of these <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s take advantaage <em>Interval</em> semantics (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> for
 continuous on/off periods) to signal when they want to be removed or
 turned off.</p><p>For these, the best way to learn them is probably by seeing examples.</p><p>If there is a time when you might want collections of things
 that can be added to or removed from dynamically, this might be what you
 are looking for.</p><p>These collections are indispensible for coding real applications; many
 examples of them in use are available in the
 <a href="https://github.com/mstksg/auto-examples">auto-examples</a> project!  See
 those projects for &quot;real-world&quot; guides.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:zipAuto">zipAuto</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [a] [b]</li><li class="src short"><a href="#v:dZipAuto">dZipAuto</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; a -&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [a] [b]</li><li class="src short"><a href="#v:dZipAuto_">dZipAuto_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [a] [b]</li><li class="src short"><a href="#v:zipAutoB">zipAutoB</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a] [b]</li><li class="src short"><a href="#v:dZipAutoB">dZipAutoB</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a] [b]</li><li class="src short"><a href="#v:dZipAutoB_">dZipAutoB_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a] [b]</li><li class="src short"><a href="#v:dynZip_">dynZip_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m ([a], <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b]) [b]</li><li class="src short"><a href="#v:dynZipF">dynZipF</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m ([a], <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [k]) [b]</li><li class="src short"><a href="#v:dynZipF_">dynZipF_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m ([a], <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [k]) [b]</li><li class="src short"><a href="#v:dynMap_">dynMap_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b]) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> b)</li><li class="src short"><a href="#v:dynMapF">dynMapF</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [k]) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> b)</li><li class="src short"><a href="#v:dynMapF_">dynMapF_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [k]) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> b)</li><li class="src short"><a href="#v:mux">mux</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (k -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) b</li><li class="src short"><a href="#v:mux_">mux_</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (k -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) b</li><li class="src short"><a href="#v:muxMany">muxMany</a> :: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (k -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</li><li class="src short"><a href="#v:muxMany_">muxMany_</a> :: <span class="keyword">forall</span> m a b k. (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (k -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</li><li class="src short"><a href="#v:gather">gather</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b) =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</li><li class="src short"><a href="#v:gather_">gather_</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k) =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</li><li class="src short"><a href="#v:gather__">gather__</a> :: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</li><li class="src short"><a href="#v:gatherMany">gatherMany</a> :: <span class="keyword">forall</span> k a m b. (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b) =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</li><li class="src short"><a href="#v:gatherMany_">gatherMany_</a> :: <span class="keyword">forall</span> k a m b. (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k) =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</li><li class="src short"><a href="#v:gatherMany__">gatherMany__</a> :: <span class="keyword">forall</span> k a m b. (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m) =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</li></ul></div><div id="interface"><h1 id="g:1">Static collections</h1><div class="top"><p class="src"><a name="v:zipAuto" class="def">zipAuto</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>default input value</p></td></tr><tr><td class="src">-&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b]</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to zip up</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [a] [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Give a list of <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> and get back an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m [a] [b]</code>  ---
 take a list of <code>a</code>'s and feed them to each of the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s, and collects
 their output <code>b</code>'s.</p><p>If the input list doesn't have enough items to give to all of the
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s wrapped, then use the given default value.  Any extra items in
 the input list are ignored.</p><p>For an example, we're going to make a list of <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s that output
 a running sum of all of their inputs, but each starting at a different
 beginning value:</p><pre>summerList :: [Auto' Int Int]
summerList = [sumFrom 0, sumFrom 10, sumFrom 20, sumFrom 30]
</pre><p>Then, let's throw it into <code><a href="Control-Auto-Collection.html#v:zipAuto">zipAuto</a></code> with a sensible default value, 0:</p><pre>summings0 :: Auto' [Int] [Int]
summings0 = zipAuto 0 summerList
</pre><p>Now let's try it out!</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (r1, summings1) = stepAuto' summings0 [1,2,3,4]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>r1
</code></strong>[ 1, 12, 23, 34]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (r2, summings2) = stepAuto' summings1 [5,5]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>r2
</code></strong>[ 6, 17, 23, 34]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (r3, _        ) = stepAuto' summings2 [10,1,10,1,10000]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>r3
</code></strong>[16, 18, 33, 35]
</pre></div></div><div class="top"><p class="src"><a name="v:dZipAuto" class="def">dZipAuto</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>default input value</p></td></tr><tr><td class="src">-&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b]</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to zip up</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [a] [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Collection.html#v:zipAuto">zipAuto</a></code>, but delay the input by one step.  The first input to
 all of them is the &quot;default&quot; value, and after that, feeds in the input
 streams delayed by one.</p><p>Let's try the example from <code><a href="Control-Auto-Collection.html#v:zipAuto">zipAuto</a></code>, except with <code><a href="Control-Auto-Collection.html#v:dZipAuto">dZipAuto</a></code> instead:</p><pre>summerList :: [Auto' Int Int]
summerList = map sumFrom [0, 10, 20, 30]

summings0 :: Auto' [Int] [Int]
summings0 = dZipAuto 0 summerList
</pre><p>Trying it out:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (r1, summings1) = stepAuto' summings0 [1,2,3,4]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>r1
</code></strong>[ 0, 10, 20, 30]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (r2, summings2) = stepAuto' summings1 [5,5]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>r2
</code></strong>[ 1, 12, 23, 34]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (r3, summings3) = stepAuto' summings2 [10,1,10,1,10000]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>r3
</code></strong>[ 6, 17, 23, 34]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (r4, _        ) = stepAuto' summings3 [100,100,100,100]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>r4
</code></strong>[16, 18, 33, 35]
</pre></div></div><div class="top"><p class="src"><a name="v:dZipAuto_" class="def">dZipAuto_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>default input value</p></td></tr><tr><td class="src">-&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b]</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to zip up</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [a] [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Collection.html#v:dZipAuto">dZipAuto</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:zipAutoB" class="def">zipAutoB</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) b]</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to zip up</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a] [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Takes a bunch of <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s that take streams streams, and turns them
 into one <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that takes a bunch of blip streams and feeds them into
 each of the original <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s, in order.</p><p>It's basically like <code><a href="Control-Auto-Collection.html#v:zipAuto">zipAuto</a></code>, except instead of taking in normal
 streams of values, it takes in blip streams of values.</p><p>If the input streams ever number less than the number of <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s zipped,
 the other <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s are stepped assuming no emitted value.</p></div></div><div class="top"><p class="src"><a name="v:dZipAutoB" class="def">dZipAutoB</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) b]</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to zip up</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a] [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A delayed version of <code><a href="Control-Auto-Collection.html#v:zipAutoB">zipAutoB</a></code></p></div></div><div class="top"><p class="src"><a name="v:dZipAutoB_" class="def">dZipAutoB_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) b]</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to zip up</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m [<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a] [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Collection.html#v:dZipAutoB">dZipAutoB</a></code>.</p></div></div><h1 id="g:2">Dynamic collections</h1><div class="top"><p class="src"><a name="v:dynZip_" class="def">dynZip_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m ([a], <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b]) [b]</p><div class="doc"><p>A dynamic box of <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s.  Takes a list of inputs to feed to each
 one, in the order that they were added.  Also takes a blip stream, which
 emits with new <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s to add to the box.</p><p>Add new <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s to the box however you want with the blip stream.</p><p>As soon as an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> turns &quot;off&quot;, the <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> is removed from the
 box, and its output is silenced.</p><p>The adding/removing aside, the routing of the inputs (the first field of
 the tuple) to the internal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s and the outputs behaves the same as
 with <code><a href="Control-Auto-Collection.html#v:zipAuto">zipAuto</a></code>.</p><p>This will be a pretty powerful collection if you ever imagine adding and
 destroying behaviors dynamically...like spawning new enemies, or
 something like that.</p><p>Let's see an example...here we are going to be throwing a bunch of
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s that count to five and then die into our <code><a href="Control-Auto-Collection.html#v:dynZip_">dynZip_</a></code>...once every
 other step.</p><pre>-- count upwards, then die when you reach 5
countThenDie :: <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> () Int
countThenDie = onFor 5 . iterator (+1) 1

-- emit a new <code>countThenDie</code> every two steps
throwCounters :: Auto' () (<code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> [<code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> () Int])
throwCounters = tagBlips [countThenDie] . every 2

a :: Auto' () [Int]
a = proc _ -&gt; do
        newCounter &lt;- throwCounters -&lt; ()
        dynZip_ ()  -&lt; (repeat (), newCounter)
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 15 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[[], [1            ]
   , [2,           ]
   , [3, 1         ]
   , [4, 2         ]
   , [5, 3, 1      ]
   , [   4, 2      ]
   , [   5, 3, 1   ]
   , [      4, 2   ]
   , [      5, 3, 1]
]
</pre><p>This is a little unweildy, because <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s maybe disappearing out of the
 thing while you are trying to feed inputs into it.  You might be feeding
 an input to an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>...but one of the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s before it on the list has
 disappeared, so it accidentally goes to the wrong one.</p><p>Because of this, it is suggested that you use <code><a href="Control-Auto-Collection.html#v:dynMap_">dynMap_</a></code>, which allows
 you to &quot;target&quot; labeled <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s with your inputs.</p><p>This <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> is inherently unserializable, but you can use <code><a href="Control-Auto-Collection.html#v:dynZipF">dynZipF</a></code> for
 more or less the same functionality, with serialization possible.  It's
 only slightly less powerful...for all intents and purposes, you should
 be able to use both in the same situations.  All of the examples here
 can be also done with <code><a href="Control-Auto-Collection.html#v:dynZipF">dynZipF</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:dynZipF" class="def">dynZipF</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b)</td><td class="doc"><p>function to generate a new
     <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> for each coming <code>k</code>
     in the blip stream.</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>&quot;default&quot; input to feed in</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m ([a], <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [k]) [b]</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Collection.html#v:dynZip_">dynZip_</a></code>, but instead of taking in a blip stream of <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s
 directly, takes in a blip stream of <code>k</code>s to trigger adding more
 <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s to the &quot;box&quot;, using the given <code>k -&gt; <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code>
 function to make the new <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> to add.</p><p>Pretty much all of the power of <code><a href="Control-Auto-Collection.html#v:dynZip_">dynZip_</a></code>, but with serialization.</p><p>See <code><a href="Control-Auto-Collection.html#v:dynZip_">dynZip_</a></code> for examples and caveats.</p><p>You could theoretically recover the behavior of <code><a href="Control-Auto-Collection.html#v:dynZip_">dynZip_</a></code> with
 <code><code><a href="Control-Auto-Collection.html#v:dynZipF">dynZipF</a></code> id</code>, if there wasn't a <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a></code> constraint on the <code>k</code>.</p></div></div><div class="top"><p class="src"><a name="v:dynZipF_" class="def">dynZipF_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m ([a], <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [k]) [b]</p><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Collection.html#v:dynZipF">dynZipF</a></code>.  Well, you
 really might as well use <code><a href="Control-Auto-Collection.html#v:dynZip_">dynZip_</a></code>, which is more powerful...but maybe
 using this can inspire more disciplined usage.  Also works as a drop-in
 replacement for <code><a href="Control-Auto-Collection.html#v:dynZipF">dynZipF</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:dynMap_" class="def">dynMap_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>&quot;default&quot; input to feed in</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b]) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A dynamic box of <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s, indexed by an <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></code>.  Takes an <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a></code> of
 inputs to feed into their corresponding <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s, and collect all of the
 outputs into an output <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a></code>.</p><p>Whenever any of the internal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s return <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, they are removed
 from the collection.</p><p>Toy examples here are of limited use, but let's try it out.  Here we
 will have a <code><a href="Control-Auto-Collection.html#v:dynMap_">dynMap_</a></code> that feeds each internal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> back to itself.
 The result of each is sent directly back to itself.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Data.IntMap as IM
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let dm0 :: Auto' (IM.IntMap Int) (IM.IntMap Int)
</code></strong>        dm0 = proc x -&gt; do
                  initials &lt;- immediately -&lt; [ Just &lt;$&gt; sumFrom 0
                                             , Just &lt;$&gt; sumFrom 10 ]
                  newIs    &lt;- every 3     -&lt; [ Just &lt;$&gt; sumFrom 0  ]
                  dynMap_ (-1) -&lt; (x, initials `mergeL` newIs)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, dm1) = stepAuto' dm0 mempty
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>fromList [(0, -1), (1, 9)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, dm2) = stepAuto' dm1 (IM.fromList [(0,100),(1,50)])
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>fromList [(0, 99), (1, 59)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res3, dm3) = stepAuto' dm2 (IM.fromList [(0,10),(1,5)])
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res3
</code></strong>fromList [(0, 109), (1, 64), (2, -1)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res4, _  ) = stepAuto' dm3 (IM.fromList [(1,5),(2,5)])
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res4
</code></strong>fromList [(0, 108), (1, 69), (2, 4)]
</pre><p>One quirk is that every internal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> is &quot;stepped&quot; at every step with
 the default input; <code><a href="Control-Auto-Collection.html#v:gatherMany">gatherMany</a></code> is a version of this where <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s that
 do not have a corresponding &quot;input&quot; are left unstepped, and their last
 output preserved in the aggregate output.  As such, <code><a href="Control-Auto-Collection.html#v:gatherMany">gatherMany</a></code> might
 be seen more often.</p><p>This <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> is inherently unserializable, but you can use <code><a href="Control-Auto-Collection.html#v:dynMapF">dynMapF</a></code> for
 more or less the same functionality, with serialization possible.  It's
 only slightly less powerful...for all intents and purposes, you should
 be able to use both in the same situations.  All of the examples here
 can be also done with <code><a href="Control-Auto-Collection.html#v:dynMapF">dynMapF</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:dynMapF" class="def">dynMapF</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b)</td><td class="doc"><p>function to generate a new
     <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> for each coming <code>k</code>
     in the blip stream.</p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>&quot;default&quot; input to feed in</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [k]) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Collection.html#v:dynMap_">dynMap_</a></code>, but instead of taking in a blip stream of <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s
 directly, takes in a blip stream of <code>k</code>s to trigger adding more
 <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s to the &quot;box&quot;, using the given <code>k -&gt; <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code>
 function to make the new <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> to add.</p><p>Pretty much all of the power of <code><a href="Control-Auto-Collection.html#v:dynMap_">dynMap_</a></code>, but with serialization.</p><p>See <code><a href="Control-Auto-Collection.html#v:dynMap_">dynMap_</a></code> for examples and use cases.</p><p>You could theoretically recover the behavior of <code><a href="Control-Auto-Collection.html#v:dynMap_">dynMap_</a></code> with
 <code><code><a href="Control-Auto-Collection.html#v:dynMapF">dynMapF</a></code> id</code>, if there wasn't a <code><a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a></code> constraint on the <code>k</code>.</p></div></div><div class="top"><p class="src"><a name="v:dynMapF_" class="def">dynMapF_</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b) -&gt; a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> [k]) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-IntMap-Strict.html#t:IntMap">IntMap</a> b)</p><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Collection.html#v:dynMapF">dynMapF</a></code>.  Well, you
 really might as well use <code><a href="Control-Auto-Collection.html#v:dynMap_">dynMap_</a></code>, which is more powerful...but maybe
 using this can inspire more disciplined usage.  Also works as a drop-in
 replacement for <code><a href="Control-Auto-Collection.html#v:dynMapF">dynMapF</a></code>.</p></div></div><h1 id="g:3">Multiplexers</h1><h2 id="g:4">Single input, single output</h2><div class="top"><p class="src"><a name="v:mux" class="def">mux</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</td><td class="doc"><p>function to create a new <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if none at
   that key already exists.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> multiplexer.  Stores a bunch of internal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s indexed by
 a key.  At every step, takes a key-input pair, feeds the input to the
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> stored at that key and outputs the output.</p><p>If the key given does not yet have an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> stored at that key,
 initializes a new <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> at that key by using the supplied function.</p><p>Once initialized, these <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s are stored there forever.</p><p>You can play around with some combinators from <a href="Control-Auto-Switch.html">Control.Auto.Switch</a>;
 for example, with <code>resetOn</code>, you can make <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s that &quot;reset&quot;
 themselves when given a certain input.  <code>switchOnF</code> could be put to use
 here too in neat ways.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let mx0 = mux (\_ -&gt; sumFrom 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, mx1) = stepAuto' mx0 (&quot;hello&quot;, 5)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>5
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, mx2) = stepAuto' mx1 (&quot;world&quot;, 3)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>3
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res3, mx3) = stepAuto' mx2 (&quot;hello&quot;, 4)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res3
</code></strong>9
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' mx3 [(&quot;world&quot;, 2), (&quot;foo&quot;, 6), (&quot;foo&quot;, 1), (&quot;hello&quot;, 2)]
</code></strong>[5, 6, 7, 11]
</pre></div></div><div class="top"><p class="src"><a name="v:mux_" class="def">mux_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</td><td class="doc"><p>function to create a new <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if none at
   that key already exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Collection.html#v:mux">mux</a></code>.</p></div></div><h2 id="g:5">Multiple input, multiple output</h2><div class="top"><p class="src"><a name="v:muxMany" class="def">muxMany</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</td><td class="doc"><p>function to create a new <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if
   none at that key already exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> multiplexer, like <code><a href="Control-Auto-Collection.html#v:mux">mux</a></code>, except allows update/access of many
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s at a time.  Instead of taking in a single key-value pair and
 outputting a single result, takes in an entire <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a></code> of key-value pairs
 and outputs a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a></code> of key-result pairs.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Data.Map as M
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let mx0 = mux (\_ -&gt; sumFrom 0)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, mx1) = stepAuto' mx0 (M.fromList [ (&quot;hello&quot;, 5)
</code></strong>                                                , (&quot;world&quot;, 3) ])
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>fromList [(&quot;hello&quot;, 5), (&quot;world&quot;, 3)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, mx2) = stepAuto' mx1 (M.fromList [ (&quot;hello&quot;, 4)
</code></strong>                                                , (&quot;foo&quot;  , 7) ])
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>fromList [(&quot;foo&quot;, 7), (&quot;hello&quot;, 9)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res3, _  ) = mx2 (M.fromList [(&quot;world&quot;, 3), (&quot;foo&quot;, 1)])
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res3
</code></strong>fromList [(&quot;foo&quot;, 8), (&quot;world&quot;, 6)]
</pre><p>See <code><a href="Control-Auto-Collection.html#v:mux">mux</a></code> for more notes.</p></div></div><div class="top"><p class="src"><a name="v:muxMany_" class="def">muxMany_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> m a b k . (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b)</td><td class="doc"><p>function to create a new <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if
   none at that key already exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Collection.html#v:muxMany">muxMany</a></code>.</p></div></div><h1 id="g:6"><a href="Gathering.html">Gathering</a>/accumulating collections</h1><h2 id="g:7">Single input, multiple output</h2><div class="top"><p class="src"><a name="v:gather" class="def">gather</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b)</td><td class="doc"><p>function to create a new <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>
   if none at that key already
   exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Keeps an internal <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a></code> of <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s and, at every step, the output is
 the last seen output of every <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>, indexed under the proper key.</p><p>At every step, the input is a key-value pair; <code><a href="Control-Auto-Collection.html#v:gather">gather</a></code> will feed that
 input value to the <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> under the proper key and update the output
 map with that new result.</p><p>If the key offered the input is not yet a part of the collection,
 initializes it with the given function.</p><p>Any <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> that turns &quot;off&quot; (outputs <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>) from this will be
 immediately removed from the collection.  If something for that key is
 received again, it will re-initialize it.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let sumUntil :: Interval' Int Int
</code></strong>        sumUntil = proc x -&gt; do
                       sums &lt;- sumFrom 0     -&lt; x
                       stop &lt;- became (&gt; 10) -&lt; sums
                       before -&lt; (sums, stop)
    -- (a running sum, &quot;on&quot; until the sum is greater than 10)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let gt0 = gather (\_ -&gt; sumUntil)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, gt1) = stepAuto' gt0 (&quot;hello&quot;, 5)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>fromList [(&quot;hello&quot;, 5)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, gt2) = stepAuto' gt1 (&quot;world&quot;, 7)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>fromList [(&quot;hello&quot;, 5), (&quot;world&quot;, 7)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res3, gt3) = stepAuto' gt2 (&quot;foo&quot;, 4)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res3
</code></strong>fromList [(&quot;foo&quot;, 4), (&quot;hello&quot;, 5), (&quot;world&quot;, 7)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res4, gt4) = stepAuto' gt3 (&quot;world&quot;, 8)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res4
</code></strong>fromList [(&quot;foo&quot;, 4), (&quot;hello&quot;, 5)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' gt4 [(&quot;world&quot;, 2),(&quot;bar&quot;, 9),(&quot;world&quot;, 6),(&quot;hello&quot;, 11)]
</code></strong>[ fromList [(&quot;foo&quot;, 4), (&quot;hello&quot;, 5), (&quot;world&quot;, 2)]
, fromList [(&quot;bar&quot;, 9), (&quot;foo&quot;, 4), (&quot;hello&quot;, 5), (&quot;world&quot;, 2)]
, fromList [(&quot;bar&quot;, 9), (&quot;foo&quot;, 4), (&quot;hello&quot;, 5), (&quot;world&quot;, 8)]
, fromList [(&quot;bar&quot;, 9), (&quot;foo&quot;, 4), (&quot;world&quot;, 8)]
]
</pre><p>In practice this ends up being a very common collection; see the
 <a href="https://github.com/mstksg/auto-examples">auto-examples</a> project for many
 examples!</p><p>Because everything needs a <code>key</code>, you don't have the fancy
 &quot;auto-generate new keys&quot; feature of <code>dynMap</code>...however, you could always
 pull a new key from <code><code>perBlip</code> <code>enumFromA</code></code> or something.</p><p>Like with <code><a href="Control-Auto-Collection.html#v:mux">mux</a></code>, combinators from <a href="Control-Auto-Switch.html">Control.Auto.Switch</a> like <code>resetOn</code>
 and <code>switchOnF</code> are very useful here!</p></div></div><div class="top"><p class="src"><a name="v:gather_" class="def">gather_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b)</td><td class="doc"><p>function to create a new <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>
   if none at that key already
   exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Collection.html#v:gather">gather</a></code>:</p><p><strong>Does</strong> serialize the actual <strong><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s</strong> themselves; the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s are
 all serialized and re-loaded/resumed when 'gather_ f' is resumed.</p><p>Does <strong>not</strong> serialize the &quot;last outputs&quot;, so resumed <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s that have
 not yet been re-run/accessed to get a fresh output are not represented
 in the output map at first.</p></div></div><div class="top"><p class="src"><a name="v:gather__" class="def">gather__</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b)</td><td class="doc"><p>function to create a new
   <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if none at that key
   already exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (k, a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming vervsion of <code><a href="Control-Auto-Collection.html#v:gather">gather</a></code>:</p><p>Serializes neither the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s themselves nor the &quot;last outputs&quot; ---
 essentially, serializes/resumes nothing.</p></div></div><div class="top"><p class="src"><a name="v:gatherMany" class="def">gatherMany</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> k a m b . (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> b)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b)</td><td class="doc"><p>function to create a new
   <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if none at that key
   already exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Much like <code><a href="Control-Auto-Collection.html#v:gather">gather</a></code>, except allows you to pass in multiple key-value
 pairs every step, to update multiple internal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Data.Map as M
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let sumUntil :: Interval' Int Int
</code></strong>        sumUntil = proc x -&gt; do
                       sums &lt;- sumFrom 0     -&lt; x
                       stop &lt;- became (&gt; 10) -&lt; sums
                       before -&lt; (sums, stop)
    -- (a running sum, &quot;on&quot; until the sum is greater than 10)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let gm0 = gatherMany (\_ -&gt; sumUntil)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, gm1) = stepAuto' gm0 (M.fromList [ (&quot;hello&quot;, 5)
</code></strong>                                                , (&quot;world&quot;, 7)
                                                ])
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>fromList [(&quot;hello&quot;, 5), (&quot;world&quot;, 7)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, gm2) = stepAuto' gm1 (M.fromList [ (&quot;foo&quot;, 4)
</code></strong>                                                , (&quot;hello&quot;, 3)
                                                ])
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>fromList [(&quot;foo&quot;, 4), (&quot;hello&quot;, 8), (&quot;world&quot;, 7)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res3, gm3) = stepAuto' gm2 (M.fromList [ (&quot;world&quot;, 8)
</code></strong>                                                , (&quot;bar&quot;, 9)
                                                ])
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res3
</code></strong>fromList [(&quot;bar&quot;, 9), (&quot;foo&quot;, 4), (&quot;hello&quot;, 8)]
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res4, _  ) = stepAuto' gm3 (M.fromList [ (&quot;world&quot;, 2)
</code></strong>                                                , (&quot;bar&quot;, 10)
                                                ])
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res4
</code></strong>fromList [(&quot;foo&quot;, 4), (&quot;hello&quot;, 8), (&quot;world&quot;, 2)]
</pre><p>See <code><a href="Control-Auto-Collection.html#v:gather">gather</a></code> for more notes.</p></div></div><div class="top"><p class="src"><a name="v:gatherMany_" class="def">gatherMany_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> k a m b . (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m, <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> k)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b)</td><td class="doc"><p>function to create a new
   <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if none at that key
   already exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Collection.html#v:gatherMany">gatherMany</a></code>:</p><p><strong>Does</strong> serialize the actual <strong><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s</strong> themselves; the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s are
 all serialized and re-loaded/resumed when 'gatherMany_ f' is resumed.</p><p>Does <strong>not</strong> serialize the &quot;last outputs&quot;, so resumed <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s that have
 not yet been re-run/accessed to get a fresh output are not represented
 in the output map at first.</p></div></div><div class="top"><p class="src"><a name="v:gatherMany__" class="def">gatherMany__</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <span class="keyword">forall</span> k a m b . (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Ord.html#t:Ord">Ord</a> k, <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (k -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b)</td><td class="doc"><p>function to create a new
   <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if none at that key
   already exists</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/containers-0.5.5.1/Data-Map-Lazy.html#t:Map">Map</a> k b)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming vervsion of <code><a href="Control-Auto-Collection.html#v:gatherMany">gatherMany</a></code>:</p><p>Serializes neither the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s themselves nor the &quot;last outputs&quot; ---
 essentially, serializes/resumes nothing.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>