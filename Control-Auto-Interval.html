<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Interval</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Interval.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.1.0.0: DSL providing denotational, compositional semantics for
discrete-step, locally stateful, interactive programs,
games &amp; automations.</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2014</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Interval</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Intervals</a></li><li><a href="#g:2">Static <code>Interval</code>s</a></li><li><a href="#g:3">Filter <code>Interval</code>s</a></li><li><a href="#g:4">Choice</a></li><li><a href="#g:5">Blip-based <code>Interval</code>s</a></li><li><a href="#g:6">Composition with <code>Interval</code></a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides combinators and utilities for working with the
 semantic concept of &quot;intervals&quot;: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s producing values that can
 either be &quot;on&quot; or &quot;off&quot;...typically for contiguous chunks at a time.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Interval">Interval</a> m a b = <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Interval-39-">Interval'</a> a b = <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:off">off</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</li><li class="src short"><a href="#v:toOn">toOn</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:fromInterval">fromInterval</a> ::  a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) a</li><li class="src short"><a href="#v:fromIntervalWith">fromIntervalWith</a> ::  b -&gt; (a -&gt; b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) b</li><li class="src short"><a href="#v:onFor">onFor</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:offFor">offFor</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:when">when</a> ::  (a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:unless">unless</a> ::  (a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:-60--124--33--62-">(&lt;|!&gt;)</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:-60--124--63--62-">(&lt;|?&gt;)</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</li><li class="src short"><a href="#v:chooseInterval">chooseInterval</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b] -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</li><li class="src short"><a href="#v:choose">choose</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:after">after</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b) a</li><li class="src short"><a href="#v:before">before</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b) a</li><li class="src short"><a href="#v:between">between</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> c)) a</li><li class="src short"><a href="#v:hold">hold</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</li><li class="src short"><a href="#v:hold_">hold_</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</li><li class="src short"><a href="#v:holdFor">holdFor</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</li><li class="src short"><a href="#v:holdFor_">holdFor_</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</li><li class="src short"><a href="#v:during">during</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:compI">compI</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m b c -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a c</li><li class="src short"><a href="#v:bindI">bindI</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</li></ul></div><div id="interface"><h1 id="g:1">Intervals</h1><div class="doc"><p>This concept of &quot;on or offness&quot; is represented as an &quot;interval-producing
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>&quot; using <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code>:</p><pre>    <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)
</pre><p>(In contrast to the &quot;normal&quot;, &quot;always-on&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code>)</p><p>Which from now on, we will be referring to with the equivalent /type
 synonym/:</p><pre>    type <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b = <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)
</pre><p>So, conceptually, an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> is the same (from the
 compiler's point of view) as an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code>.  If you see
 it, you can substitute it in your head if it makes it easier.</p><p>Normally, an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> takes in a stream of <code>a</code>s and produces
 a stream of <code>b</code>s.  So an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> takes in a stream of <code>a</code>s
 and produces an <em>intervaled</em> stream of <code>b</code>'s --- a stream that is on or
 off for contiguous chunks at a time.</p><p>When it outputs <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, it's interpreted as &quot;off&quot;; when it outputs
 <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> x</code>, it's interpreted as &quot;on&quot; with a value of <code>x</code>.</p><p>For example, take <code><code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code> :: <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></code> -&gt; <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a a</code>.
 <code><code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code> n</code> is &quot;on&quot;, and lets all values pass through through, for <code>n</code>
 steps; then it turns &quot;off&quot; forever.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = onFor 2 . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 5 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Just 1, Just 2, Nothing, Nothing, Nothing]
</pre><p>(Recall that <code>count</code>, from <a href="Control-Auto-Time.html">Control.Auto.Time</a>, outputs the current step
 count)</p><p><code><code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code> 2</code> is &quot;on&quot; for two steps, and lets the output of <code>count</code>
 through; then it is &quot;off&quot;, and &quot;blocks&quot; all of the output of <code>count</code>.</p><p><h2>Motivation</h2></p><p>Intervals happen to particularly useful when used with the various
 <em>switching</em> combinators from <a href="Control-Auto-Switch.html">Control.Auto.Switch</a>.</p><p>You might find it useful to &quot;sequence&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s such that they &quot;switch&quot;
 from one to the other, dynamically.  For example, an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that acts
 like <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Applicative.html#v:pure">pure</a></code> 0</code> for three steps, and then like <code>count</code> for the rest:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1 = (onFor 3 . pure 0) --&gt; count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, _) = stepAutoN' 8 a1 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>[0, 0, 0, 1, 2, 3, 4, 5]
</pre><p>(Recall that <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Applicative.html#v:pure">pure</a></code> x</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and always
 outputs <code>x</code>)</p><p>Or in reverse, an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that behaves like <code>count</code> until the count is
 above 3, then switches to <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Applicative.html#v:pure">pure</a></code> 0</code></p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a2 = (when (&lt;= 3) . count) --&gt; pure 0
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, _) = stepAutoN' 8 a2 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>[1, 2, 3, 0, 0, 0, 0, 0]
</pre><p>That's just a small example using one switching combinator, <code>--&gt;</code>.  But
 hopefully it demonstrates that one powerful motivation behind
 &quot;intervals&quot; being a &quot;thing&quot; is because of how it works with switches.</p><p>Another neat motivation is that intervals work pretty well with the
 <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> semantic tool, as well.</p><p>The following <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> will be &quot;off&quot; and suppress all of its input
 (from <code>count</code>) <em>until</em> the <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream produced by <code><code>inB</code> 3</code> emits
 something, then it'll allow <code>count</code> to pass.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a3        = after . (count &amp;&amp;&amp; inB 3)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res3, _) = stepAutoN' 5 a3 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res3
</code></strong>[Nothing, Nothing, Just 3, Just 4, Just 4]
</pre><p><h2>The Contract</h2></p><p>So, why have an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> type, and not always just use <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>?</p><p>You can say that, if you are given an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>, then it comes with
 a &quot;contract&quot; (by documentation) that the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> will obey /interval
 semantics/.</p><p><code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code> can mean a lot of things and represent a lot of
 things.</p><p>However, if you offer something of an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> type, or if you find
 something of an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> type, it comes with some sort of assurance
 that that <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> will <em>behave</em> like an interval: on and off for
 contiguous periods of time.</p><p>In addition, this allows us to further clarify /what our functions
 expect/.  By saying that a function expects an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>:</p><pre>    chooseInterval :: [Interval m a b]
                   -&gt; Interval m a b
</pre><p><code><a href="Control-Auto-Interval.html#v:chooseInterval">chooseInterval</a></code> has the ability to &quot;state&quot; that it <em>expects</em> things
 that follow interval semantics in order to &quot;function&quot; properly and in
 order to properly &quot;return&quot; an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>.</p><p>Of course, this is not enforced by the compiler.  However, it's useful
 to create a way to clearly state that what you are offering or what you
 are expecting does indeed follow this useful pattern.</p><p><h2>Combinators</h2></p><p><h3>Converting back into normal streams</h3></p><p>You can convert interval streams back into normal streams by using
 <code><a href="Control-Auto-Interval.html#v:fromInterval">fromInterval</a></code> and <code><a href="Control-Auto-Interval.html#v:fromIntervalWith">fromIntervalWith</a></code>, analogous to <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:fromMaybe">fromMaybe</a></code> and
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:maybe">maybe</a></code> from <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html">Data.Maybe</a>, respectively:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = fromIntervalWith &quot;off&quot; show . onFor 2 . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 5 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[&quot;1&quot;, &quot;2&quot;, &quot;off&quot;, &quot;off&quot;, &quot;off&quot;]
</pre><p><h3>Choice</h3></p><p>You can also &quot;choose&quot; between interval streams, with choice combinators
 like <code><a href="Control-Auto-Interval.html#v:-60--124--63--62-">&lt;|?&gt;</a></code> and <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = onFor 2 . pure &quot;hello&quot;
</code></strong>       &lt;|!&gt; onFor 4 . pure &quot;world&quot;
       &lt;|!&gt; pure &quot;goodbye!&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 6 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[&quot;hello&quot;, &quot;hello&quot;, &quot;world&quot;, &quot;world&quot;, &quot;goodbye!&quot;, &quot;goodbye!&quot;]
</pre><p>The above could also be written with <code><a href="Control-Auto-Interval.html#v:choose">choose</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = choose (pure &quot;goodbye!&quot;)
</code></strong>                   [ onFor 2 . pure &quot;hello&quot;
                   , onFor 4 . pure &quot;world&quot;
                   ]
</pre><p><h3>Composition</h3></p><p>Another tool that makes <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s powerful is the ability to compose
 them.</p><p>If you have an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> and an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m b c</code>, then you can
 compose them with <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Category.html#v:.">.</a></code>.</p><p>If you have an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> and an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c</code>, then you can
 compose them by throwing in a <code><a href="Control-Auto-Interval.html#v:toOn">toOn</a></code> in the chain, or <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#v:fmap">fmap</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code></code>:</p><pre>    a               :: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b
    i               :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c
    i . <code><a href="Control-Auto-Interval.html#v:toOn">toOn</a></code> . a    :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c
    <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#v:fmap">fmap</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> a :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b
    i . <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#v:fmap">fmap</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> a :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c
</pre><p>If you have an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> and an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m b c</code>, you can &quot;lift&quot;
 the second <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to be an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that only &quot;acts&quot; on &quot;on&quot;/<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code>
 outputs of the <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>:</p><pre>    i            :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b
    a            :: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m b c
    <code><a href="Control-Auto-Interval.html#v:during">during</a></code> a     :: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)
    <code><a href="Control-Auto-Interval.html#v:during">during</a></code> a . i :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c
</pre><p>Finally, the kleisli composition: if you have an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> and
 an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c</code>, you can use <code><a href="Control-Auto-Interval.html#v:compI">compI</a></code>: (or also <code><a href="Control-Auto-Interval.html#v:bindI">bindI</a></code>)</p><pre>    i1            :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b
    i2            :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c
    i2 `'compI'` i1 :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b c
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1        = onFor 4 `compI` offFor 1 . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, _) = stepAutoN' 6 a1 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>[Nothing, Just 2, Just 3, Just 4, Nothing, Nothing]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a2 = when even `compI` onFor 4 `compI` offFor 1 . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, _) = stepAutoN' 6 a2 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>[Nothing, Just 2, Nothing, Just 4, Nothing, Nothing]
</pre><p>The implementation works so that any &quot;on&quot;/<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> inputs will step the
 lifted <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> like normal, with the contents of the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code>, and any
 &quot;off&quot;/<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> inputs cause the lifted <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to be skipped and frozen.</p><p><code><a href="Control-Auto-Interval.html#v:compI">compI</a></code> adds a lot of power to <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> because now you can always
 work &quot;with <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s&quot;, bind them just like normal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s, and then
 finally &quot;exit&quot; them after composing and combining many.</p><p><h2>Warning: Switching</h2></p><p>Note that when any of these combinators &quot;block&quot; (or &quot;inhibit&quot; or
 &quot;suppress&quot;, whatever you call it) their input as a part of a composition
 pipeline (as in for <code><a href="Control-Auto-Interval.html#v:off">off</a></code>, <code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code>, <code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code>, etc.), the <em>input</em> <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s
 are <em>still stepped</em> and &quot;run&quot;.  If the inputs had any monad effects,
 they would too be exected at every step.  In order to &quot;freeze&quot; and not
 run or step an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> at all, you have to use switches.</p><p>(<code><a href="Control-Auto-Interval.html#v:during">during</a></code> and <code><a href="Control-Auto-Interval.html#v:bindI">bindI</a></code> are not included in this bunch.)</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Interval" class="def">Interval</a> m a b = <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</p><div class="doc"><p>An <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> is &quot;just&quot; a type alias for <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code>.  If
 you ended up here with a link...no worries!  If you see <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>
 m a b</code>, just think <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code>!</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Interval-39-" class="def">Interval'</a> a b = <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</p></div><h1 id="g:2">Static <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s</h1><div class="top"><p class="src"><a name="v:off" class="def">off</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</p><div class="doc"><p>An <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that produces an interval that always &quot;off&quot; (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>),
 never letting anything pass.</p><p>Note that any monadic effects of the input <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> when composed with
 <code><a href="Control-Auto-Interval.html#v:off">off</a></code> are still executed, even though their result value is suppressed.</p><pre>off == arr (const Nothing)</pre></div></div><div class="top"><p class="src"><a name="v:toOn" class="def">toOn</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</p><div class="doc"><p>An <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that takes a value stream and turns it into an &quot;always-on&quot;
 interval, with that value.  Lets every value pass through.</p><pre>toOn == arr Just</pre></div></div><div class="top"><p class="src"><a name="v:fromInterval" class="def">fromInterval</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: a</td><td class="doc"><p>value to output for &quot;off&quot; periods</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> taking in an interval stream and transforming it into
 a normal value stream, using the given default value whenever the
 interval is off/blocking.</p><pre>fromInterval d = arr (fromMaybe d)</pre></div></div><div class="top"><p class="src"><a name="v:fromIntervalWith" class="def">fromIntervalWith</a> ::  b -&gt; (a -&gt; b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) b</p><div class="doc"><p>An <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> taking in an interval stream and transforming it into
 a normal value stream, using the given default value whenever the
 interval is off/blocking, and applying the given function to the input
 when the interval is on/passing.  Analogous to <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:maybe">maybe</a></code> from <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Prelude.html">Prelude</a>
 and <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html">Data.Maybe</a>.</p><pre>fromIntervalWith d f = arr (maybe d f)</pre></div></div><div class="top"><p class="src"><a name="v:onFor" class="def">onFor</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>amount of steps to stay &quot;on&quot; for</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that behaves like <code><a href="Control-Auto-Interval.html#v:toOn">toOn</a></code> (letting values pass, &quot;on&quot;)
 for the given number of steps, then otherwise is off (suppressing all
 input values from passing) forevermore.</p></div></div><div class="top"><p class="src"><a name="v:offFor" class="def">offFor</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>amount of steps to be &quot;off&quot; for.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that is off for the given number of steps, suppressing all
 input values, then behaves like <code><a href="Control-Auto-Interval.html#v:toOn">toOn</a></code> forevermore, passing through
 values as &quot;on&quot; values.</p></div></div><h1 id="g:3">Filter <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s</h1><div class="top"><p class="src"><a name="v:when" class="def">when</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>interval predicate</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that allows values to pass whenever the input satisfies the
 predicate...and is off otherwise.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = when (\x -&gt; x &gt;= 2 &amp;&amp; x &lt;= 4) . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 6 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Just 2, Just 3, Just 4, Nothing, Nothing]
</pre><p>(<code>count</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and outputs the current
 step count at every step)</p></div></div><div class="top"><p class="src"><a name="v:unless" class="def">unless</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>interval predicate</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Interval.html#v:when">when</a></code>, but only allows values to pass whenever the input does
 not satisfy the predicate.  Blocks whenever the predicate is true.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = unless (\x -&gt; x &lt; 2 &amp;&amp;&amp; x &gt; 4) . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 6 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Just 2, Just 3, Just 4, Nothing, Nothing]
</pre><p>(<code>count</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and outputs the current
 step count at every step)</p></div></div><h1 id="g:4">Choice</h1><div class="top"><p class="src"><a name="v:-60--124--33--62-" class="def">(&lt;|!&gt;)</a> <span class="fixity">infixr 3</span><span class="rightedge"></span></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p>interval <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p>&quot;normal&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><a href="Chooses.html">Chooses</a> between an interval-producing <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> and an &quot;normal&quot; value,
 &quot;always on&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.  Behaves like the &quot;on&quot; value of the first <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if
 it is on; otherwise, behaves like the second.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1        = (onFor 2 . pure &quot;hello&quot;) &lt;|!&gt; pure &quot;world&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, _) = stepAutoN' 5 a1 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>[&quot;hello&quot;, &quot;hello&quot;, &quot;world&quot;, &quot;world&quot;, &quot;world&quot;]
</pre><p>This one is neat because it associates from the right, so it can be
 &quot;chained&quot;:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a2 = onFor 2 . pure &quot;hello&quot;
</code></strong>        &lt;|!&gt; onFor 4 . pure &quot;world&quot;
        &lt;|!&gt; pure &quot;goodbye!&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, _) = stepAutoN' 6 a2 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>[&quot;hello&quot;, &quot;hello&quot;, &quot;world&quot;, &quot;world&quot;, &quot;goodbye!&quot;, &quot;goodbye!&quot;]
</pre><pre> a &lt;|!&gt; b &lt;!|&gt; c</pre><p>associates as</p><pre> a &lt;|!&gt; (b &lt;|!&gt; c)</pre><p>So using this, you can &quot;chain&quot; a bunch of choices between intervals, and
 then at the right-most, &quot;final&quot; one, provide the default behavior.</p><p>Warning: If your underlying monad produces effects, remember that <em>both</em>
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s are run at every step, along with any monadic effects,
 regardless of whether they are &quot;on&quot; or &quot;off&quot;.</p></div></div><div class="top"><p class="src"><a name="v:-60--124--63--62-" class="def">(&lt;|?&gt;)</a> <span class="fixity">infixr 3</span><span class="rightedge"></span></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p>choice 1</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p>choice 2</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This &quot;chooses&quot; between two interval-producing <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s; behaves like
 the first <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> if it is &quot;on&quot;; otherwise, behaves like the second.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = (onFor 2 . pure &quot;hello&quot;) &lt;|?&gt; (onFor 4 . pure &quot;world&quot;)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 5 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Just &quot;hello&quot;, Just &quot;hello&quot;, Just &quot;world&quot;, Just &quot;world&quot;, Nothing]
</pre><p>You can drop the parentheses, because of precedence; the above could
 have been written as:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a' = onFor 2 . pure &quot;hello&quot; &lt;|?&gt; onFor 4 . pure &quot;world&quot;
</code></strong></pre><p>Warning: If your underlying monad produces effects, remember that <em>both</em>
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s are run at every step, along with any monadic effects,
 regardless of whether they are &quot;on&quot; or &quot;off&quot;.</p><p>Note that more often than not, <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code> is probably more useful.  This
 is useful only in the case that you really, really want an interval at
 the end of it all.</p></div></div><div class="top"><p class="src"><a name="v:chooseInterval" class="def">chooseInterval</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b]</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to run and
   choose from</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run all <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s from the same input, and return the behavior of the
 first one that is not <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>.  If all are <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, output
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>.</p><pre>chooseInterval == foldr (&lt;|?&gt;) off</pre></div></div><div class="top"><p class="src"><a name="v:choose" class="def">choose</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to behave like if all
   others are <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code></p></td></tr><tr><td class="src">-&gt; [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b]</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to run and choose from</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run all <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s from the same input, and return the behavior of the
 first one that is not <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>; if all are <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>, return the
 behavior of the &quot;default case&quot;.</p><pre>choose == foldr (&lt;|!&gt;)</pre></div></div><h1 id="g:5">Blip-based <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s</h1><div class="top"><p class="src"><a name="v:after" class="def">after</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b) a</p><div class="doc"><p>Takes in a value stream and a <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream.  Doesn't allow any values
 in at first, until the <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream emits.  Then, allows all values
 through as &quot;on&quot; forevermore.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = after . (count &amp;&amp;&amp; inB 3)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 5 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Nothing, Just 3, Just 4, Just 4]
</pre><p>(<code>count</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and outputs the current
 step count at every step, and <code><code>inB</code> 3</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> generating
 a <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream that emits at the third step.)</p><p>Be careful to remember that <code><a href="Control-Auto-Interval.html#v:after">after</a></code> does not actually &quot;switch&quot; anything.
 In the above example, <code>count</code> is still &quot;run&quot; at every step, and is
 progressed (and if it were an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with monadic effects, they would
 still be executed).  It just isn't allowed to pass through <code><a href="Control-Auto-Interval.html#v:after">after</a></code> until
 the <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream emits.</p></div></div><div class="top"><p class="src"><a name="v:before" class="def">before</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b) a</p><div class="doc"><p>Takes in a value stream and a <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream.  Allows all values
 through, as &quot;on&quot;, until the <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream emits...then doesn't let
 anything pass after that.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = before . (count &amp;&amp;&amp; inB 3)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 5 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Just 1, Just 2, Nothing, Nothing, Nothing]
</pre><p>(<code>count</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and outputs the current
 step count at every step, and <code><code>inB</code> 3</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> generating
 a <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream that emits at the third step.)</p><p>Be careful to remember that <code><a href="Control-Auto-Interval.html#v:before">before</a></code> doesn't actually &quot;switch&quot; anything.
 In the above example, <code>count</code> is <em>still</em> &quot;run&quot; at every step (and if it
 were an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with monad effects, they would still be executed).  It's
 just that the values are suppressed.</p></div></div><div class="top"><p class="src"><a name="v:between" class="def">between</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> c)) a</p><div class="doc"><p>Takes in a value stream and two <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> streams.  Starts off as &quot;off&quot;,
 not letting anything pass.  When the first <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream emits, it
 toggles onto the &quot;on&quot; state and lets everything pass; when the second
 <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream emits, it toggles back onto the &quot;off&quot; state.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = before . (count &amp;&amp;&amp; (inB 3 &amp;&amp;&amp; inB 5))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 7 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Nothing, Just 3, Just 4, Nothing, Nothing, Nothing]
</pre></div></div><div class="top"><p class="src"><a name="v:hold" class="def">hold</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</p><div class="doc"><p>Takes in a <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> stream and constantly outputs the last emitted
 value.  Starts off as <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1        = hold . inB 3 . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, _) = stepAutoN' 5 a1 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>[Nothing, Nothing, Just 3, Just 3, Just 3]
</pre><p>You can make this behave as an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> a) b</code> (no possible
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>s) by providing a &quot;default&quot; value, to be used when the input
 stream has not yet emitted, in one of two ways:</p><p>The first, using <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a2        = (hold . inB 3 . count) &lt;|!&gt; pure 100
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, _) = stepAutoN' 5 a2 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>[100, 100, 3, 3, 3]
</pre><p>The second, using <code><a href="Control-Auto-Interval.html#v:fromInterval">fromInterval</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a3        = fromInterval 100 . hold . inB 3 . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res3, _) = stepAutoN' 5 a3 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res3
</code></strong>[100, 100, 3, 3, 3]
</pre></div></div><div class="top"><p class="src"><a name="v:hold_" class="def">hold_</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</p><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Interval.html#v:hold">hold</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:holdFor" class="def">holdFor</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.0.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of steps to hold the last emitted value for</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Interval.html#v:hold">hold</a></code>, but it only &quot;holds&quot; the last emitted value for the given
 number of steps.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = holdFor 2 . inB 3 . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 7 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Nothing, Just 3, Just 4, Nothing, Nothing, Nothing]
</pre></div></div><div class="top"><p class="src"><a name="v:holdFor_" class="def">holdFor_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of steps to hold the last emitted value for</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Interval.html#v:holdFor">holdFor</a></code>.</p></div></div><h1 id="g:6">Composition with <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code></h1><div class="top"><p class="src"><a name="v:during" class="def">during</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</p><div class="doc"><p><a href="Lifts.html">Lifts</a> an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> (transforming <code>a</code>s into <code>b</code>s) into an
 <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code> (or, <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) b</code>,
 transforming <em>intervals</em> of <code>a</code>s into <em>intervals</em> of <code>b</code>.</p><p>It does this by &quot;running&quot; the given <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> whenever it receives a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code>
 value, and skipping/pausing it whenever it receives a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> value.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1        = during (sumFrom 0) . onFor 2 . pure 1
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res1, _) = stepAutoN' 5 a1 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res1
</code></strong>[Just 1, Just 2, Nothing, Nothing, Nothing]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a2       = during (sumFrom 0) . offFor 2 . pure 1
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res2, _) = stepAutoN' 5 a2 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res2
</code></strong>[Nothing, Nothing, Just 1, Just 2, Just 3]
</pre><p>(Remember that <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Applicative.html#v:pure">pure</a></code> x</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and
 constantly just pumps out <code>x</code> at every step)</p><p>Note the difference between putting the <code>sumFrom</code> &quot;after&quot; the
 <code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code> in the chain with <code><a href="Control-Auto-Interval.html#v:during">during</a></code> (like the previous example)
 and putting the <code>sumFrom</code> &quot;before&quot;:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a3        = offFor 2 . sumFrom 0 . pure 1
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res3, _) = stepAutoN' 5 a3 ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res3
</code></strong>[Nothing, Nothing, Just 3, Just 4, Just 5]
</pre><p>In the first case (with <code>a2</code>), the output of <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Applicative.html#v:pure">pure</a></code> 1</code> was suppressed
 by <code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code>, and <code><code><a href="Control-Auto-Interval.html#v:during">during</a></code> (<code>sumFrom</code> 0)</code> was only summing on the times
 that the 1's were &quot;allowed through&quot;...so it only &quot;starts counting&quot; on
 the third step.</p><p>In the second case (with <code>a3</code>), the output of the <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Applicative.html#v:pure">pure</a></code> 1</code> is never
 suppressed, and went straight into the <code><code>sumFrom</code> 0</code>.  <code>sumFrom</code> is
 always summing, the entire time.  The final output of that <code><code>sumFrom</code> 0</code>
 is suppressed at the end with <code><code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code> 2</code>.</p></div></div><div class="top"><p class="src"><a name="v:compI" class="def">compI</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m b c -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a c <span class="fixity">infixr 1</span><span class="rightedge"></span></p><div class="doc"><p>Composes two <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s, the same way that <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Category.html#v:.">.</a></code> composes two <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s:</p><pre>    (.)   :: Auto     m b c -&gt; Auto     m a b -&gt; Auto     m a c
    compI :: Interval m b c -&gt; Interval m a b -&gt; Interval m a c
</pre><p>Basically, if any <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> in the chain is &quot;off&quot;, then the entire rest
 of the chain is &quot;skipped&quot;, short-circuiting a la <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code>.</p><p>(Users of libraries with built-in inhibition semantics like Yampa and
 netwire might recognize this as the &quot;default&quot; composition in those other
 libraries)</p><p>As a contrived example, how about an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that only allows values
 through during a window...between, say, the second and fourth steps:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let window start finish = onFor finish `compI` offFor start
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = window 1 4 . count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let (res, _) = stepAutoN' 5 a ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Just 2, Just 3, Just 4, Nothing, Nothing]
</pre><p>(Remember that <code>count</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and displays
 the current step count, starting with 1)</p></div></div><div class="top"><p class="src"><a name="v:bindI" class="def">bindI</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</p><div class="doc"><p><a href="Lifts.html">Lifts</a> (more technically, &quot;binds&quot;) an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> into
 an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code> (or an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) b</code>)</p><p>The given <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> is &quot;run&quot; only on the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> inputs, and paused on
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> inputs.</p><p>It's kind of like <code><a href="Control-Auto-Interval.html#v:during">during</a></code>, but the resulting <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b))</code> is
 &quot;joined&quot; back into a <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b</code>.</p><pre>bindI a == fmap join (during a)</pre><p>This is really an alternative formulation of <code><a href="Control-Auto-Interval.html#v:compI">compI</a></code>; typically, you
 will be using <code><a href="Control-Auto-Interval.html#v:compI">compI</a></code> more often, but this form can also be useful (and
 slightly more general).  Note that:</p><pre>bindI f == compI f id</pre><p>This combinator allows you to properly &quot;chain&quot; (&quot;bind&quot;) together series
 of inhibiting <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s.  If you have an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> and an
 <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c</code>, you can chain them into an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c</code>.</p><pre>    f             :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b
    g             :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c
    <code><a href="Control-Auto-Interval.html#v:bindI">bindI</a></code> g . f :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c
</pre><p>(Users of libraries with built-in inhibition semantics like Yampa and
 netwire might recognize this as the &quot;default&quot; composition in those other
 libraries)</p><p>See <code><a href="Control-Auto-Interval.html#v:compI">compI</a></code> for more examples of this use case.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>