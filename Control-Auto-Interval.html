<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Control.Auto.Interval</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Control-Auto-Interval.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">auto-0.4.1.0: Denotative, locally stateful programming DSL &amp; platform</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) Justin Le 2015</td></tr><tr><th>License</th><td>MIT</td></tr><tr><th>Maintainer</th><td>justin@jle.im</td></tr><tr><th>Stability</th><td>unstable</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Control.Auto.Interval</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Intervals</a></li><li><a href="#g:2">Static <code>Interval</code>s</a></li><li><a href="#g:3">Filter <code>Interval</code>s</a></li><li><a href="#g:4">Choice</a></li><li><a href="#g:5">Blip-based <code>Interval</code>s</a></li><li><a href="#g:6">Stretching</a></li><li><a href="#g:7">Composition with <code>Interval</code></a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module provides combinators and utilities for working with the
 semantic concept of &quot;intervals&quot;: an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> whose output stream is &quot;on&quot;
 or &quot;off&quot; for (conceputally) contiguous chunks of time.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">type</span> <a href="#t:Interval">Interval</a> m a b = <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Interval-39-">Interval'</a> a b = <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</li><li class="src short"><a href="#v:off">off</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</li><li class="src short"><a href="#v:toOn">toOn</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:fromInterval">fromInterval</a> ::  a -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) a</li><li class="src short"><a href="#v:fromIntervalWith">fromIntervalWith</a> ::  b -&gt; (a -&gt; b) -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) b</li><li class="src short"><a href="#v:onFor">onFor</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:offFor">offFor</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:window">window</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:whenI">whenI</a> ::  (a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:unlessI">unlessI</a> ::  (a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>) -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</li><li class="src short"><a href="#v:-60--124--33--62-">(&lt;|!&gt;)</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:-60--124--63--62-">(&lt;|?&gt;)</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</li><li class="src short"><a href="#v:chooseInterval">chooseInterval</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b] -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</li><li class="src short"><a href="#v:choose">choose</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b] -&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</li><li class="src short"><a href="#v:after">after</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b) a</li><li class="src short"><a href="#v:before">before</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b) a</li><li class="src short"><a href="#v:between">between</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> c)) a</li><li class="src short"><a href="#v:hold">hold</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</li><li class="src short"><a href="#v:hold_">hold_</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</li><li class="src short"><a href="#v:holdFor">holdFor</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</li><li class="src short"><a href="#v:holdFor_">holdFor_</a> ::  <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a> -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</li><li class="src short"><a href="#v:holdJusts">holdJusts</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) a</li><li class="src short"><a href="#v:holdJusts_">holdJusts_</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) a</li><li class="src short"><a href="#v:during">during</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) b</li><li class="src short"><a href="#v:compI">compI</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m b c -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a c</li><li class="src short"><a href="#v:bindI">bindI</a> :: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b -&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) b</li></ul></div><div id="interface"><h1 id="g:1">Intervals</h1><div class="doc"><p>An auto that exhibits this &quot;interval&quot; behavior is represented with the
 <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> type synonym:</p><pre>type <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b = <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)
type <code><a href="Control-Auto-Interval.html#t:Interval-39-">Interval'</a></code> a b  = <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)
</pre><p>So, the compiler sees an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> as if it were an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>
 m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code>.  If it helps you reason about type signatures and type
 inference, you can make the substitution in your head too!</p><p>An <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> takes an input stream of <code>a</code>s and output stream of
 <code>b</code>s that are &quot;on&quot; and &quot;off&quot; for chunks at a time; <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> is
 interpreted as &quot;off&quot;, and <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> x</code> is interpreted as &quot;on&quot; with a value
 of <code>x</code>.</p><p>A classic example is <code><code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code> :: <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></code> -&gt; <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a a</code>.  With
 <code><code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code> n</code>, the output stream behaves exactly like the input stream for
 the first <code>n</code> steps, then is &quot;off&quot; forever after:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (onFor 3) [1..7]
</code></strong>[Just 1, Just 2, Just 3, Nothing, Nothing, Nothing, Nothing]
</pre><p><h2>Motivation</h2></p><p>Intervals happen to particularly useful when used with the various
 <em>switching</em> combinators from <a href="Control-Auto-Switch.html">Control.Auto.Switch</a>.</p><p>You might find it useful to &quot;sequence&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s such that they &quot;switch&quot;
 from one to the other, dynamically.  For example, an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that acts
 like <code><code><a href="Control-Auto-Generate.html#v:pure">pure</a></code> 0</code> for three steps, and then like <code>count</code> for the rest:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1 = (onFor 3 . pure 0) --&gt; count
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 8 . streamAuto' a1 $ repeat ()
</code></strong>[0, 0, 0, 1, 2, 3, 4, 5]
</pre><p>(Recall that <code><code><a href="Control-Auto-Generate.html#v:pure">pure</a></code> x</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores the input stream and
 gives an output stream of constant <code>x</code>s)</p><p>Or in reverse, an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that behaves like <code>count</code> until the count is
 above 3, then switches to <code><code><a href="Control-Auto-Generate.html#v:pure">pure</a></code> 0</code></p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a2 = (whenI (&lt;= 3) . count) --&gt; pure 0
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 8 . streamAuto' a2 $ repeat ()
</code></strong>[1, 2, 3, 0, 0, 0, 0, 0]
</pre><p>That's just a small example using one switching combinator, <code>--&gt;</code>.  But
 hopefully it demonstrates that one powerful motivation behind
 &quot;intervals&quot; being a &quot;thing&quot; is because of how it works with switches.</p><p>Another neat motivation is that intervals work pretty well with the
 <code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> semantic tool, as well.</p><p>The following <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> will be &quot;off&quot; and suppress all of its input
 (from <code>count</code>) <em>until</em> the blip stream produced by <code><code>inB</code> 3</code> emits
 something, then it'll allow <code>count</code> to pass.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a3 = after . (count &amp;&amp;&amp; inB 3)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a3 = proc () -&gt; do
</code></strong>            c   &lt;- count -&lt; ()
            blp &lt;- inB 3 -&lt; ()
            after -&lt; (c, blp)
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 . streamAuto' a3 $ repeat ()
</code></strong>[Nothing, Nothing, Just 3, Just 4, Just 4]
</pre><p>Intervals are also used for things that want their <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to &quot;signal&quot;
 when they are &quot;off&quot;.  <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> is the universal language for, &quot;you can
 be done with me&quot;, when it is needed.  For example, the <code>interactAuto</code>
 loop takes an 'Interval String String', and &quot;turns off&quot; on the first
 <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> or &quot;off&quot; value.  <code>gather</code> keeps a collection of <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s,
 and removes them whenever they output a <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>/turn &quot;off&quot;.</p><p><h2>The Contract</h2></p><p>So, why have an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> type, and not always just use <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>?</p><p>You can say that, if you are given an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>, then it comes with
 a &quot;contract&quot; (by documentation) that the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> will obey /interval
 semantics/.</p><p><code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code> can mean a lot of things and represent a lot of
 things.</p><p>However, if you offer something of an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> type, or if you find
 something of an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> type, it comes with some sort of assurance
 that that <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> will <em>behave</em> like an interval: on and off for
 contiguous periods of time.</p><p>In addition, this allows us to further clarify /what our functions
 expect/.  By saying that a function expects an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>:</p><pre>chooseInterval :: [Interval m a b]
               -&gt; Interval m a b
</pre><p><code><a href="Control-Auto-Interval.html#v:chooseInterval">chooseInterval</a></code> has the ability to &quot;state&quot; that it <em>expects</em> things
 that follow interval semantics in order to &quot;function&quot; properly and in
 order to properly &quot;return&quot; an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>.</p><p>Of course, this is not enforced by the compiler.  However, it's useful
 to create a way to clearly state that what you are offering or what you
 are expecting does indeed follow this useful pattern.</p><p><h2>Combinators</h2></p><p><h3>Converting back into normal streams</h3></p><p>You can take an incoming interval stream and output a &quot;normal&quot;
 &quot;always-on&quot; stream by using the <code><a href="Control-Auto-Interval.html#v:fromInterval">fromInterval</a></code> and <code><a href="Control-Auto-Interval.html#v:fromIntervalWith">fromIntervalWith</a></code>
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s, analogous to <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:fromMaybe">fromMaybe</a></code> and <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:maybe">maybe</a></code> from <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html">Data.Maybe</a>,
 respectively:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = fromIntervalWith &quot;off&quot; show . onFor 2
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' a [1..5]
</code></strong>[&quot;1&quot;, &quot;2&quot;, &quot;off&quot;, &quot;off&quot;, &quot;off&quot;]
</pre><p>You can also use <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code>, coming up next....</p><p><h3>Choice</h3></p><p>You can &quot;choose&quot; between interval streams, with choice combinators like
 <code><a href="Control-Auto-Interval.html#v:-60--124--63--62-">&lt;|?&gt;</a></code> and <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = onFor 2 . pure &quot;hello&quot;
</code></strong>       &lt;|!&gt; onFor 4 . pure &quot;world&quot;
       &lt;|!&gt; pure &quot;goodbye!&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 6 . streamAuto' a $ repeat ()
</code></strong>[&quot;hello&quot;, &quot;hello&quot;, &quot;world&quot;, &quot;world&quot;, &quot;goodbye!&quot;, &quot;goodbye!&quot;]
</pre><p>The above could also be written with <code><a href="Control-Auto-Interval.html#v:choose">choose</a></code>:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = choose (pure &quot;goodbye!&quot;)
</code></strong>                   [ onFor 2 . pure &quot;hello&quot;
                   , onFor 4 . pure &quot;world&quot;
                   ]
</pre><p><h3>Composition</h3></p><p>Another tool that makes <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s powerful is the ability to compose
 them.</p><p>If you have an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> and an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m b c</code>, then you can
 compose them with <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Category.html#v:.">.</a></code>.</p><p>If you have an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> and an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c</code>, then you can
 compose them by throwing in a <code><a href="Control-Auto-Interval.html#v:toOn">toOn</a></code> in the chain, or <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#v:fmap">fmap</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code></code>:</p><pre>a               :: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b
i               :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c
i . <code><a href="Control-Auto-Interval.html#v:toOn">toOn</a></code> . a    :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c
<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#v:fmap">fmap</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> a :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b
i . <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#v:fmap">fmap</a></code> <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> a :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c
</pre><p>If you have an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> and an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m b c</code>, you can &quot;lift&quot;
 the second <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to be an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that only &quot;acts&quot; on &quot;on&quot;/<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code>
 outputs of the <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>:</p><pre>    i            :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b
    a            :: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m b c
    <code><a href="Control-Auto-Interval.html#v:during">during</a></code> a     :: <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)
    <code><a href="Control-Auto-Interval.html#v:during">during</a></code> a . i :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c
</pre><p>Finally, the kleisli composition: if you have an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> and
 an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c</code>, you can use <code><a href="Control-Auto-Interval.html#v:compI">compI</a></code>: (or also <code><a href="Control-Auto-Interval.html#v:bindI">bindI</a></code>)</p><pre>    i1            :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b
    i2            :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c
    i2 `'compI'` i1 :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b c
    <code><a href="Control-Auto-Interval.html#v:bindI">bindI</a></code> i2 . i1 :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b c
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1        = when (&lt; 5) `compI` offFor 2
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' a1 [1..6]
</code></strong>[Nothing, Nothing, Just 3, Just 4, Nothing, Nothing]
</pre><p>The implementation works so that any &quot;on&quot;/<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> inputs will step the
 lifted <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> like normal, with the contents of the <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code>, and any
 &quot;off&quot;/<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> inputs cause the lifted <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to be skipped.</p><p><code><a href="Control-Auto-Interval.html#v:compI">compI</a></code> adds a lot of power to <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> because now you can always
 work &quot;with <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s&quot;, bind them just like normal <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s, and then
 finally &quot;exit&quot; them after composing and combining many.</p><p><h2>Warning: Switching</h2></p><p>Note that when any of these combinators &quot;block&quot; (or &quot;inhibit&quot; or
 &quot;suppress&quot;, whatever you call it) their input as a part of a composition
 pipeline (as in for <code><a href="Control-Auto-Interval.html#v:off">off</a></code>, <code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code>, <code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code>, etc.), the <em>input</em> <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s
 are <em>still stepped</em> and &quot;run&quot;.  If the inputs had any monad effects,
 they would too be executed at every step.  In order to &quot;freeze&quot; and not
 run or step an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> at all, you have to use switches.</p></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Interval" class="def">Interval</a> m a b = <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</p><div class="doc"><p>Represents a relationship between an input and an output, where the
 output can be &quot;on&quot; or &quot;off&quot; (using <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> and <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>) for contiguous
 chunks of time.</p><p><a href="Just.html">Just</a> a type alias for <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code>.  If you ended up here
 with a link...no worries!  If you see <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code>, just think
 <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code> for type inference/type checking purposes.</p><p>If you see something of type <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>, you can rest assured that it
 has &quot;interval semantics&quot; --- it is on and off for meaningfully
 contiguous chunks of time, instead of just on and off willy nilly.  If
 you have a function that expects an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>, then the function
 expects its argument to behave in this way.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Interval-39-" class="def">Interval'</a> a b = <a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a> a (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> b)</p><div class="doc"><p><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>, specialized with <code>Identity</code> as its underlying <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a></code>.
 Analogous to <code><a href="Control-Auto-Core.html#t:Auto-39-">Auto'</a></code> for <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.</p></div></div><h1 id="g:2">Static <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s</h1><div class="top"><p class="src"><a name="v:off" class="def">off</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</p><div class="doc"><p>The output stream is alwayas off, regardless of the input.</p><p>Note that any monadic effects of the input <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> when composed with
 <code><a href="Control-Auto-Interval.html#v:off">off</a></code> are still executed, even though their result value is suppressed.</p><pre>off == pure Nothing</pre></div></div><div class="top"><p class="src"><a name="v:toOn" class="def">toOn</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</p><div class="doc"><p>The output stream is always on, with exactly the value of the
 corresponding input.</p><pre>toOn == arr Just</pre></div></div><div class="top"><p class="src"><a name="v:fromInterval" class="def">fromInterval</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: a</td><td class="doc"><p>value to output for &quot;off&quot; periods</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An &quot;interval collapsing&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.  A stream of on/off values comes in;
 the output is the value of the input when the input is on, and the
 &quot;default value&quot; when the input is off.</p><p>Much like <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:fromMaybe">fromMaybe</a></code> from <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html">Data.Maybe</a>.</p><pre>fromInterval d = arr (fromMaybe d)</pre></div></div><div class="top"><p class="src"><a name="v:fromIntervalWith" class="def">fromIntervalWith</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: b</td><td class="doc"><p>default value, when input is off</p></td></tr><tr><td class="src">-&gt; (a -&gt; b)</td><td class="doc"><p>function to apply when input is on</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>An &quot;interval collapsing&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.  A stream of on/off values comes in;
 when the input is off, the output is the &quot;default value&quot;.  When the
 input is off, the output is the given function applied to the &quot;on&quot;
 value.</p><p>Much like <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:maybe">maybe</a></code> from <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html">Data.Maybe</a>.</p><pre>fromIntervalWith d f = arr (maybe d f)</pre></div></div><div class="top"><p class="src"><a name="v:onFor" class="def">onFor</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>amount of steps to stay &quot;on&quot; for</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>For <code><code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code> n</code>, the first <code>n</code> items in the output stream are always
 &quot;on&quot; (passing through with exactly the value of the corresponding
 input); for the rest, the output stream is always &quot;off&quot;, suppressing all
 input values forevermore.</p><p>If a number less than 0 is passed, 0 is used.</p></div></div><div class="top"><p class="src"><a name="v:offFor" class="def">offFor</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>amount of steps to be &quot;off&quot; for.</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>For <code><code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code> n</code>, the first <code>n</code> items in the output stream are always
 &quot;off&quot;, suppressing all input; for the rest, the output stream is always
 &quot;on&quot;, outputting exactly the value of the corresponding input.</p></div></div><div class="top"><p class="src"><a name="v:window" class="def">window</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>start of window</p></td></tr><tr><td class="src">-&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>end of window (inclusive)</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>A combination of <code><a href="Control-Auto-Interval.html#v:onFor">onFor</a></code> and <code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code>; for <code><code><a href="Control-Auto-Interval.html#v:window">window</a></code> b e</code>, the output
 stream will be &quot;on&quot; from item <code>b</code> to item <code>e</code> inclusive with the value
 of the corresponding input; for all other times, the output stream is
 always off, suppressing any input.</p></div></div><h1 id="g:3">Filter <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s</h1><div class="top"><p class="src"><a name="v:whenI" class="def">whenI</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>interval predicate</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The output is &quot;on&quot; with exactly the value of he corresponding input
 when the input passes the predicate, and is &quot;off&quot; otherwise.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = whenI (\x -&gt; x &gt;= 2 &amp;&amp; x &lt;= 4)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' a [1..6]
</code></strong>[Nothing, Just 2, Just 3, Just 4, Nothing, Nothing]
</pre><p>Careful when using this; you could exactly create an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> that
 &quot;breaks&quot; &quot;interval semantics&quot;; for example, 'whenI even', when you know
 your input stream does not consist of chunks of even numbers and odd
 numbers at a time.</p></div></div><div class="top"><p class="src"><a name="v:unlessI" class="def">unlessI</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (a -&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>interval predicate</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Like <code><a href="Control-Auto-Interval.html#v:whenI">whenI</a></code>, but only allows values to pass whenever the input does
 not satisfy the predicate.  Blocks whenever the predicate is true.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = unlessI (\x -&gt; x &lt; 2 &amp;&amp;&amp; x &gt; 4)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>steamAuto' a [1..6]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Just 2, Just 3, Just 4, Nothing, Nothing]
</pre></div></div><h1 id="g:4">Choice</h1><div class="top"><p class="src"><a name="v:-60--124--33--62-" class="def">(&lt;|!&gt;)</a> <span class="fixity">infixr 3</span><span class="rightedge"></span></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p>interval <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p>&quot;normal&quot; <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code></p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Forks a common input stream between an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> and an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>, and
 returns, itself, a normal non-interval <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>..  If the
 output of the first one is &quot;on&quot;, the output of the whole thing is that
 &quot;on&quot; value.  Otherwise, the output is exactly that of the second one.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1 = (onFor 2 . pure &quot;hello&quot;) &lt;|!&gt; pure &quot;world&quot;
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 . streamAuto' a1 $ repeat ()
</code></strong>[&quot;hello&quot;, &quot;hello&quot;, &quot;world&quot;, &quot;world&quot;, &quot;world&quot;]
</pre><p>This one is neat because it associates from the right, so it can be
 &quot;chained&quot;:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a2 = onFor 2 . pure &quot;hello&quot;
</code></strong>        &lt;|!&gt; onFor 4 . pure &quot;world&quot;
        &lt;|!&gt; pure &quot;goodbye!&quot;
<code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 6 . streamAuto' a2 $ repeat ()
</code></strong>[&quot;hello&quot;, &quot;hello&quot;, &quot;world&quot;, &quot;world&quot;, &quot;goodbye!&quot;, &quot;goodbye!&quot;]
</pre><pre> a &lt;|!&gt; b &lt;|!&gt; c</pre><p>associates as</p><pre> a &lt;|!&gt; (b &lt;|!&gt; c)</pre><p>So using this, you can &quot;chain&quot; a bunch of choices between intervals, and
 then at the right-most, &quot;final&quot; one, provide the default behavior.</p><p>Warning: If your underlying monad produces effects, remember that <em>both</em>
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s are run at every step, along with any monadic effects,
 regardless of whether they are &quot;on&quot; or &quot;off&quot;.</p></div></div><div class="top"><p class="src"><a name="v:-60--124--63--62-" class="def">(&lt;|?&gt;)</a> <span class="fixity">infixr 3</span><span class="rightedge"></span></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p>choice 1</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p>choice 2</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Forks a common input stream between the two <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s and returns,
 itself, an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>.  If the output of the first one is &quot;on&quot;, the
 whole thing is on with that output. Otherwise, the output is exactly
 that of the second one.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = (onFor 2 . pure &quot;hello&quot;) &lt;|?&gt; (onFor 4 . pure &quot;world&quot;)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 . streamAuto' a $ repeat ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Just &quot;hello&quot;, Just &quot;hello&quot;, Just &quot;world&quot;, Just &quot;world&quot;, Nothing]
</pre><p>You can drop the parentheses, because of precedence; the above could
 have been written as:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a' = onFor 2 . pure &quot;hello&quot; &lt;|?&gt; onFor 4 . pure &quot;world&quot;
</code></strong></pre><p>Warning: If your underlying monad produces effects, remember that <em>both</em>
 <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s are run at every step, along with any monadic effects,
 regardless of whether they are &quot;on&quot; or &quot;off&quot;.</p><p>Note that more often than not, <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code> is probably more useful.  This
 is useful only in the case that you really, really want an interval at
 the end of it all.</p></div></div><div class="top"><p class="src"><a name="v:chooseInterval" class="def">chooseInterval</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b]</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to run and
   choose from</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Forks an input stream between all <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s in the list.  The result
 is an <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> whose output is &quot;on&quot; when any of the original
 <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s is on, with the value of the <em>first</em> &quot;on&quot; one.</p><pre>chooseInterval == foldr (&lt;|?&gt;) off</pre></div></div><div class="top"><p class="src"><a name="v:choose" class="def">choose</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p>the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to behave like if all
   others are <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code></p></td></tr><tr><td class="src">-&gt; [<a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b]</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s to run and choose from</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Forks an input stream between all <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s in the list, plus
 a &quot;default <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>.  The output is the value of the first &quot;on&quot;
 <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>; if there isn't any, the output from the &quot;default <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>&quot; is
 used.</p><pre>choose == foldr (&lt;|!&gt;)</pre></div></div><h1 id="g:5">Blip-based <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s</h1><div class="top"><p class="src"><a name="v:after" class="def">after</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b) a</p><div class="doc"><p>Takes two input streams --- a stream of normal values, and a blip
 stream.  Before the first emitted value of the input blip stream, the
 output is always &quot;off&quot;, suppressing all inputs.  <em>After</em> the first
 emitted value of the input blip stream, the output is always &quot;on&quot; with
 the corresponding value of the first input stream.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = after . (count &amp;&amp;&amp; inB 3)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 6 . streamAuto' a $ repeat ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Nothing, Just 3, Just 4, Just 5, Just 6]
</pre><p>(<code>count</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and outputs the current
 step count at every step, and <code><code>inB</code> 3</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> generating
 a blip stream that emits at the third step.)</p><p>Be careful to remember that in the above example, <code>count</code> is still &quot;run&quot;
 at every step, and is progressed (and if it were an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with monadic
 effects, they would still be executed).  It just isn't allowed to pass
 its output values through <code><a href="Control-Auto-Interval.html#v:after">after</a></code> until the blip stream emits.</p></div></div><div class="top"><p class="src"><a name="v:before" class="def">before</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b) a</p><div class="doc"><p>Takes two input streams --- a stream of normal values, and a blip
 stream.  Before the first emitted value of the input blip stream, the
 output is always &quot;on&quot; with the corresponding value of the first input
 stream.  <em>After</em> the first emitted value of the input blip stream, the
 output will be &quot;off&quot; forever, suppressing all input.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = before . (count &amp;&amp;&amp; inB 3)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 . streamAuto' a $ repeat ()
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Just 1, Just 2, Nothing, Nothing, Nothing]
</pre><p>(<code>count</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and outputs the current
 step count at every step, and <code><code>inB</code> 3</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> generating
 a blip stream that emits at the third step.)</p><p>Be careful to remember that in the above example, <code>count</code> is still &quot;run&quot;
 at every step, and is progressed (and if it were an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> with monadic
 effects, they would still be executed).  It just isn't allowed to pass
 its output values through <code><a href="Control-Auto-Interval.html#v:before">before</a></code> after the blip stream emits.</p></div></div><div class="top"><p class="src"><a name="v:between" class="def">between</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (a, (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> b, <a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> c)) a</p><div class="doc"><p>Takes three input streams: a stream of normal values, a blip stream of
 &quot;turning-on&quot; blips, and a blip stream of &quot;turning-off&quot; blips.  After the
 first blip stream emits, the output will switch to &quot;on&quot; with the value
 of the first input stream.  After the second blip stream emits, the
 output will switch to &quot;off&quot;, supressing all inputs.  An emission from
 the first stream toggles this &quot;on&quot;; an emission from the second stream
 toggles this &quot;off&quot;.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a        = between . (count &amp;&amp;&amp; (inB 3 &amp;&amp;&amp; inB 5))
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 7 . streamAuto' a $ repeat ()
</code></strong>[Nothing, Nothing, Just 3, Just 4, Nothing, Nothing, Nothing]
</pre></div></div><div class="top"><p class="src"><a name="v:hold" class="def">hold</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</p><div class="doc"><p>The output is constantly &quot;on&quot; with the last emitted value of the input
 blip stream.  However, before the first emitted value, it is &quot;off&quot;.
 value of the input blip stream.  From then on, the output is always the
 last emitted value</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = hold . inB 3
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' a [1..5]
</code></strong>[Nothing, Nothing, Just 3, Just 3, Just 3]
</pre><p>If you want an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code><a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a></code> a) a</code> (no <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code>...just a &quot;default
 value&quot; before everything else), then you can use <code>holdWith</code> from
 <a href="Control-Auto-Blip.html">Control.Auto.Blip</a>...or also just <code><a href="Control-Auto-Interval.html#v:hold">hold</a></code> with <code><a href="Control-Auto-Interval.html#v:-60--124--33--62-">&lt;|!&gt;</a></code> or <code><a href="Control-Auto-Interval.html#v:fromInterval">fromInterval</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:hold_" class="def">hold_</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</p><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Interval.html#v:hold">hold</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:holdFor" class="def">holdFor</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of steps to hold the last emitted value for</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>For <code><code><a href="Control-Auto-Interval.html#v:holdFor">holdFor</a></code> n</code>, The output is only &quot;on&quot; if there was an emitted
 value from the input blip stream in the last <code>n</code> steps.  Otherwise, is
 off.</p><p>Like <code><a href="Control-Auto-Interval.html#v:hold">hold</a></code>, but it only &quot;holds&quot; the last emitted value for the given
 number of steps.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a = holdFor 2 . inB 3
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' 7 a [1..7]
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>res
</code></strong>[Nothing, Nothing, Just 3, Just 3, Nothing, Nothing, Nothing]
</pre></div></div><div class="top"><p class="src"><a name="v:holdFor_" class="def">holdFor_</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Int.html#t:Int">Int</a></td><td class="doc"><p>number of steps to hold the last emitted value for</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="Control-Auto-Blip-Internal.html#t:Blip">Blip</a> a) a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>The non-serializing/non-resuming version of <code><a href="Control-Auto-Interval.html#v:holdFor">holdFor</a></code>.</p></div></div><h1 id="g:6">Stretching</h1><div class="top"><p class="src"><a name="v:holdJusts" class="def">holdJusts</a> :: <a href="file:///home/justin/projects/haskell/auto/.cabal-sandbox/share/doc/x86_64-linux-ghc-7.8.3/cereal-0.4.1.1/html/Data-Serialize.html#t:Serialize">Serialize</a> a =&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) a</p><div class="doc"><p><a href="Stretches.html">Stretches</a> the last &quot;on&quot;/<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> input over the entire range of
 following &quot;off&quot;/<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Nothing">Nothing</a></code> inputs.  Holds on to the last <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#v:Just">Just</a></code> until
 another one comes along.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' holdJusts [Nothing, Just 1, Just 3, Nothing, Nothing, Just 5]
</code></strong>[Nothing, Just 1, Just 3, Just 3, Just 3, Just 5]
</pre></div></div><div class="top"><p class="src"><a name="v:holdJusts_" class="def">holdJusts_</a> ::  <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) a</p><div class="doc"><p>The non-resuming/non-serializing version of <code><a href="Control-Auto-Interval.html#v:holdJusts">holdJusts</a></code>.</p></div></div><h1 id="g:7">Composition with <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code></h1><div class="top"><p class="src"><a name="v:during" class="def">during</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Core.html#t:Auto">Auto</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> to lift to work over intervals</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><a href="Lifts.html">Lifts</a> an <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m a b</code> (transforming <code>a</code>s into <code>b</code>s) into an
 <code><code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b)</code> (or, <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) b</code>,
 transforming <em>intervals</em> of <code>a</code>s into <em>intervals</em> of <code>b</code>.</p><p>It does this by running the <code>Auuto</code> as normal when the input is &quot;on&quot;,
 and freezing it<em>being &quot;off&quot; when the input is </em>off/.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a1 = during (sumFrom 0) . onFor 2 . pure 1
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 . streamAuto' a1 $ repeat ()
</code></strong>[Just 1, Just 2, Nothing, Nothing, Nothing]
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a2 = during (sumFrom 0) . offFor 2 . pure 1
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 . streamAuto' a2 $ repeat ()
</code></strong>[Nothing, Nothing, Just 1, Just 2, Just 3]
</pre><p>(Remember that <code><code><a href="Control-Auto-Generate.html#v:pure">pure</a></code> x</code> is the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that ignores its input and
 constantly just pumps out <code>x</code> at every step)</p><p>Note the difference between putting the <code>sumFrom</code> &quot;after&quot; the
 <code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code> in the chain with <code><a href="Control-Auto-Interval.html#v:during">during</a></code> (like the previous example)
 and putting the <code>sumFrom</code> &quot;before&quot;:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let a3 = offFor 2 . sumFrom 0 . pure 1
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>take 5 . streamAuto' a3 $ repeat ()
</code></strong>[Nothing, Nothing, Just 3, Just 4, Just 5]
</pre><p>In the first case (with <code>a2</code>), the output of <code><code><a href="Control-Auto-Generate.html#v:pure">pure</a></code> 1</code> was suppressed
 by <code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code>, and <code><code><a href="Control-Auto-Interval.html#v:during">during</a></code> (<code>sumFrom</code> 0)</code> was only summing on the times
 that the 1's were &quot;allowed through&quot;...so it only &quot;starts counting&quot; on
 the third step.</p><p>In the second case (with <code>a3</code>), the output of the <code><code><a href="Control-Auto-Generate.html#v:pure">pure</a></code> 1</code> is never
 suppressed, and went straight into the <code><code>sumFrom</code> 0</code>.  <code>sumFrom</code> is
 always summing, the entire time.  The final output of that <code><code>sumFrom</code> 0</code>
 is suppressed at the end with <code><code><a href="Control-Auto-Interval.html#v:offFor">offFor</a></code> 2</code>.</p></div></div><div class="top"><p class="src"><a name="v:compI" class="def">compI</a> <span class="fixity">infixr 1</span><span class="rightedge"></span></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m b c</td><td class="doc"><p>compose this <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>...</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p>...to this one</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a c</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Composes two <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code>s, the same way that <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Category.html#v:.">.</a></code> composes two <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s:</p><pre>(.)   :: Auto     m b c -&gt; Auto     m a b -&gt; Auto     m a c
compI :: Interval m b c -&gt; Interval m a b -&gt; Interval m a c
</pre><p>Basically, if any <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> in the chain is &quot;off&quot;, then the entire rest
 of the chain is &quot;skipped&quot;, short-circuiting a la <code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code>.</p><p>(Users of libraries with built-in inhibition semantics like Yampa and
 netwire might recognize this as the &quot;default&quot; composition in those other
 libraries)</p><p>As a contrived example, how about an <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> that only allows values
 through during a window...between, say, the second and fourth steps:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>let window' start dur = onFor dur `compI` offFor (start - 1)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>streamAuto' (window' 2 3)
</code></strong>[Nothing, Just 2, Just 3, Just 4, Nothing, Nothing]
</pre></div></div><div class="top"><p class="src"><a name="v:bindI" class="def">bindI</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Control-Monad.html#t:Monad">Monad</a> m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m a b</td><td class="doc"><p><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> to bind</p></td></tr><tr><td class="src">-&gt; <a href="Control-Auto-Interval.html#t:Interval">Interval</a> m (<a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a> a) b</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p><a href="Lifts.html">Lifts</a> (more technically, &quot;binds&quot;) an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> into
 an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> a) b</code>.</p><p>Does this by running the <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code> as normal when the input is &quot;on&quot;, and
 freezing it<em>being &quot;off&quot; when the input is </em>off/.</p><p>It's kind of like <code><a href="Control-Auto-Interval.html#v:during">during</a></code>, but the resulting <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> (<code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b))</code> is
 &quot;joined&quot; back into a <code><code><a href="file:///usr/local/ghc-7.8.3/share/doc/ghc/html/libraries/base-4.7.0.1/Data-Maybe.html#t:Maybe">Maybe</a></code> b</code>.</p><pre>bindI a == fmap join (during a)</pre><p>This is really an alternative formulation of <code><a href="Control-Auto-Interval.html#v:compI">compI</a></code>; typically, you
 will be using <code><a href="Control-Auto-Interval.html#v:compI">compI</a></code> more often, but this form can also be useful (and
 slightly more general).  Note that:</p><pre>bindI f == compI f id</pre><p>This combinator allows you to properly &quot;chain&quot; (&quot;bind&quot;) together series
 of inhibiting <code><a href="Control-Auto-Core.html#t:Auto">Auto</a></code>s.  If you have an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b</code> and an
 <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c</code>, you can chain them into an <code><code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c</code>.</p><pre>f             :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a b
g             :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m b c
<code><a href="Control-Auto-Interval.html#v:bindI">bindI</a></code> g . f :: <code><a href="Control-Auto-Interval.html#t:Interval">Interval</a></code> m a c
</pre><p>(Users of libraries with built-in inhibition semantics like Yampa and
 netwire might recognize this as the &quot;default&quot; composition in those other
 libraries)</p><p>See <code><a href="Control-Auto-Interval.html#v:compI">compI</a></code> for examples of this use case.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>